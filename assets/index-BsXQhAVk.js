(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.4.33
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function tn(t,e){const s=new Set(t.split(","));return r=>s.has(r)}const ie={},Ht=[],Ie=()=>{},Va=()=>!1,Ws=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),sn=t=>t.startsWith("onUpdate:"),_e=Object.assign,rn=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},za=Object.prototype.hasOwnProperty,W=(t,e)=>za.call(t,e),U=Array.isArray,qt=t=>Js(t)==="[object Map]",Yi=t=>Js(t)==="[object Set]",B=t=>typeof t=="function",ce=t=>typeof t=="string",gt=t=>typeof t=="symbol",oe=t=>t!==null&&typeof t=="object",Xi=t=>(oe(t)||B(t))&&B(t.then)&&B(t.catch),Zi=Object.prototype.toString,Js=t=>Zi.call(t),Ga=t=>Js(t).slice(8,-1),eo=t=>Js(t)==="[object Object]",nn=t=>ce(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ls=tn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Qs=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Wa=/-(\w)/g,Fe=Qs(t=>t.replace(Wa,(e,s)=>s?s.toUpperCase():"")),Ja=/\B([A-Z])/g,At=Qs(t=>t.replace(Ja,"-$1").toLowerCase()),Ys=Qs(t=>t.charAt(0).toUpperCase()+t.slice(1)),pr=Qs(t=>t?`on${Ys(t)}`:""),dt=(t,e)=>!Object.is(t,e),Ms=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},to=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},$r=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Ln;const so=()=>Ln||(Ln=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function on(t){if(U(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=ce(r)?Za(r):on(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(ce(t)||oe(t))return t}const Qa=/;(?![^(]*\))/g,Ya=/:([^]+)/,Xa=/\/\*[^]*?\*\//g;function Za(t){const e={};return t.replace(Xa,"").split(Qa).forEach(s=>{if(s){const r=s.split(Ya);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function an(t){let e="";if(ce(t))e=t;else if(U(t))for(let s=0;s<t.length;s++){const r=an(t[s]);r&&(e+=r+" ")}else if(oe(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const el="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tl=tn(el);function ro(t){return!!t||t===""}const no=t=>!!(t&&t.__v_isRef===!0),sl=t=>ce(t)?t:t==null?"":U(t)||oe(t)&&(t.toString===Zi||!B(t.toString))?no(t)?sl(t.value):JSON.stringify(t,io,2):String(t),io=(t,e)=>no(e)?io(t,e.value):qt(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[gr(r,i)+" =>"]=n,s),{})}:Yi(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>gr(s))}:gt(e)?gr(e):oe(e)&&!U(e)&&!eo(e)?String(e):e,gr=(t,e="")=>{var s;return gt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.4.33
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Oe;class oo{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Oe,!e&&Oe&&(this.index=(Oe.scopes||(Oe.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const s=Oe;try{return Oe=this,e()}finally{Oe=s}}}on(){Oe=this}off(){Oe=this.parent}stop(e){if(this._active){let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.scopes)for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function ao(t){return new oo(t)}function rl(t,e=Oe){e&&e.active&&e.effects.push(t)}function lo(){return Oe}function nl(t){Oe&&Oe.cleanups.push(t)}let kt;class ln{constructor(e,s,r,n){this.fn=e,this.trigger=s,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,rl(this,n)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,_t();for(let e=0;e<this._depsLength;e++){const s=this.deps[e];if(s.computed&&(il(s.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),mt()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=ht,s=kt;try{return ht=!0,kt=this,this._runnings++,Dn(this),this.fn()}finally{Un(this),this._runnings--,kt=s,ht=e}}stop(){this.active&&(Dn(this),Un(this),this.onStop&&this.onStop(),this.active=!1)}}function il(t){return t.value}function Dn(t){t._trackId++,t._depsLength=0}function Un(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)co(t.deps[e],t);t.deps.length=t._depsLength}}function co(t,e){const s=t.get(e);s!==void 0&&e._trackId!==s&&(t.delete(e),t.size===0&&t.cleanup())}let ht=!0,jr=0;const uo=[];function _t(){uo.push(ht),ht=!1}function mt(){const t=uo.pop();ht=t===void 0?!0:t}function cn(){jr++}function un(){for(jr--;!jr&&Ir.length;)Ir.shift()()}function ho(t,e,s){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&co(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Ir=[];function fo(t,e,s){cn();for(const r of t.keys()){let n;r._dirtyLevel<e&&(n??(n=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(n??(n=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&Ir.push(r.scheduler)))}un()}const po=(t,e)=>{const s=new Map;return s.cleanup=t,s.computed=e,s},Ks=new WeakMap,Rt=Symbol(""),Lr=Symbol("");function we(t,e,s){if(ht&&kt){let r=Ks.get(t);r||Ks.set(t,r=new Map);let n=r.get(s);n||r.set(s,n=po(()=>r.delete(s))),ho(kt,n)}}function Xe(t,e,s,r,n,i){const o=Ks.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(s==="length"&&U(t)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||!gt(c)&&c>=l)&&a.push(u)})}else switch(s!==void 0&&a.push(o.get(s)),e){case"add":U(t)?nn(s)&&a.push(o.get("length")):(a.push(o.get(Rt)),qt(t)&&a.push(o.get(Lr)));break;case"delete":U(t)||(a.push(o.get(Rt)),qt(t)&&a.push(o.get(Lr)));break;case"set":qt(t)&&a.push(o.get(Rt));break}cn();for(const l of a)l&&fo(l,4);un()}function ol(t,e){const s=Ks.get(t);return s&&s.get(e)}const al=tn("__proto__,__v_isRef,__isVue"),go=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(gt)),Mn=ll();function ll(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...s){const r=J(this);for(let i=0,o=this.length;i<o;i++)we(r,"get",i+"");const n=r[e](...s);return n===-1||n===!1?r[e](...s.map(J)):n}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...s){_t(),cn();const r=J(this)[e].apply(this,s);return un(),mt(),r}}),t}function cl(t){gt(t)||(t=String(t));const e=J(this);return we(e,"has",t),e.hasOwnProperty(t)}class _o{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?Sl:bo:i?vo:yo).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=U(e);if(!n){if(o&&W(Mn,s))return Reflect.get(Mn,s,r);if(s==="hasOwnProperty")return cl}const a=Reflect.get(e,s,r);return(gt(s)?go.has(s):al(s))||(n||we(e,"get",s),i)?a:ue(a)?o&&nn(s)?a:a.value:oe(a)?n?So(a):Ps(a):a}}class mo extends _o{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=Ct(i);if(!Wt(r)&&!Ct(r)&&(i=J(i),r=J(r)),!U(e)&&ue(i)&&!ue(r))return l?!1:(i.value=r,!0)}const o=U(e)&&nn(s)?Number(s)<e.length:W(e,s),a=Reflect.set(e,s,r,n);return e===J(n)&&(o?dt(r,i)&&Xe(e,"set",s,r):Xe(e,"add",s,r)),a}deleteProperty(e,s){const r=W(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&Xe(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!gt(s)||!go.has(s))&&we(e,"has",s),r}ownKeys(e){return we(e,"iterate",U(e)?"length":Rt),Reflect.ownKeys(e)}}class ul extends _o{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const hl=new mo,fl=new ul,dl=new mo(!0);const hn=t=>t,Xs=t=>Reflect.getPrototypeOf(t);function Cs(t,e,s=!1,r=!1){t=t.__v_raw;const n=J(t),i=J(e);s||(dt(e,i)&&we(n,"get",e),we(n,"get",i));const{has:o}=Xs(n),a=r?hn:s?gn:ms;if(o.call(n,e))return a(t.get(e));if(o.call(n,i))return a(t.get(i));t!==n&&t.get(e)}function xs(t,e=!1){const s=this.__v_raw,r=J(s),n=J(t);return e||(dt(t,n)&&we(r,"has",t),we(r,"has",n)),t===n?s.has(t):s.has(t)||s.has(n)}function As(t,e=!1){return t=t.__v_raw,!e&&we(J(t),"iterate",Rt),Reflect.get(t,"size",t)}function Nn(t,e=!1){!e&&!Wt(t)&&!Ct(t)&&(t=J(t));const s=J(this);return Xs(s).has.call(s,t)||(s.add(t),Xe(s,"add",t,t)),this}function Fn(t,e,s=!1){!s&&!Wt(e)&&!Ct(e)&&(e=J(e));const r=J(this),{has:n,get:i}=Xs(r);let o=n.call(r,t);o||(t=J(t),o=n.call(r,t));const a=i.call(r,t);return r.set(t,e),o?dt(e,a)&&Xe(r,"set",t,e):Xe(r,"add",t,e),this}function Bn(t){const e=J(this),{has:s,get:r}=Xs(e);let n=s.call(e,t);n||(t=J(t),n=s.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return n&&Xe(e,"delete",t,void 0),i}function Hn(){const t=J(this),e=t.size!==0,s=t.clear();return e&&Xe(t,"clear",void 0,void 0),s}function $s(t,e){return function(r,n){const i=this,o=i.__v_raw,a=J(o),l=e?hn:t?gn:ms;return!t&&we(a,"iterate",Rt),o.forEach((u,c)=>r.call(n,l(u),l(c),i))}}function js(t,e,s){return function(...r){const n=this.__v_raw,i=J(n),o=qt(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?hn:e?gn:ms;return!e&&we(i,"iterate",l?Lr:Rt),{next(){const{value:h,done:p}=u.next();return p?{value:h,done:p}:{value:a?[c(h[0]),c(h[1])]:c(h),done:p}},[Symbol.iterator](){return this}}}}function tt(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function pl(){const t={get(i){return Cs(this,i)},get size(){return As(this)},has:xs,add:Nn,set:Fn,delete:Bn,clear:Hn,forEach:$s(!1,!1)},e={get(i){return Cs(this,i,!1,!0)},get size(){return As(this)},has:xs,add(i){return Nn.call(this,i,!0)},set(i,o){return Fn.call(this,i,o,!0)},delete:Bn,clear:Hn,forEach:$s(!1,!0)},s={get(i){return Cs(this,i,!0)},get size(){return As(this,!0)},has(i){return xs.call(this,i,!0)},add:tt("add"),set:tt("set"),delete:tt("delete"),clear:tt("clear"),forEach:$s(!0,!1)},r={get(i){return Cs(this,i,!0,!0)},get size(){return As(this,!0)},has(i){return xs.call(this,i,!0)},add:tt("add"),set:tt("set"),delete:tt("delete"),clear:tt("clear"),forEach:$s(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=js(i,!1,!1),s[i]=js(i,!0,!1),e[i]=js(i,!1,!0),r[i]=js(i,!0,!0)}),[t,s,e,r]}const[gl,_l,ml,yl]=pl();function fn(t,e){const s=e?t?yl:ml:t?_l:gl;return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(W(s,n)&&n in r?s:r,n,i)}const vl={get:fn(!1,!1)},bl={get:fn(!1,!0)},wl={get:fn(!0,!1)};const yo=new WeakMap,vo=new WeakMap,bo=new WeakMap,Sl=new WeakMap;function El(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Pl(t){return t.__v_skip||!Object.isExtensible(t)?0:El(Ga(t))}function Ps(t){return Ct(t)?t:dn(t,!1,hl,vl,yo)}function wo(t){return dn(t,!1,dl,bl,vo)}function So(t){return dn(t,!0,fl,wl,bo)}function dn(t,e,s,r,n){if(!oe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=n.get(t);if(i)return i;const o=Pl(t);if(o===0)return t;const a=new Proxy(t,o===2?r:s);return n.set(t,a),a}function Tt(t){return Ct(t)?Tt(t.__v_raw):!!(t&&t.__v_isReactive)}function Ct(t){return!!(t&&t.__v_isReadonly)}function Wt(t){return!!(t&&t.__v_isShallow)}function Eo(t){return t?!!t.__v_raw:!1}function J(t){const e=t&&t.__v_raw;return e?J(e):t}function pn(t){return Object.isExtensible(t)&&to(t,"__v_skip",!0),t}const ms=t=>oe(t)?Ps(t):t,gn=t=>oe(t)?So(t):t;class Po{constructor(e,s,r,n){this.getter=e,this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new ln(()=>e(this._value),()=>Ns(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=r}get value(){const e=J(this);return(!e._cacheable||e.effect.dirty)&&dt(e._value,e._value=e.effect.run())&&Ns(e,4),Oo(e),e.effect._dirtyLevel>=2&&Ns(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Ol(t,e,s=!1){let r,n;const i=B(t);return i?(r=t,n=Ie):(r=t.get,n=t.set),new Po(r,n,i||!n,s)}function Oo(t){var e;ht&&kt&&(t=J(t),ho(kt,(e=t.dep)!=null?e:t.dep=po(()=>t.dep=void 0,t instanceof Po?t:void 0)))}function Ns(t,e=4,s,r){t=J(t);const n=t.dep;n&&fo(n,e)}function ue(t){return!!(t&&t.__v_isRef===!0)}function _n(t){return ko(t,!1)}function kl(t){return ko(t,!0)}function ko(t,e){return ue(t)?t:new Rl(t,e)}class Rl{constructor(e,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?e:J(e),this._value=s?e:ms(e)}get value(){return Oo(this),this._value}set value(e){const s=this.__v_isShallow||Wt(e)||Ct(e);e=s?e:J(e),dt(e,this._rawValue)&&(this._rawValue,this._rawValue=e,this._value=s?e:ms(e),Ns(this,4))}}function Kt(t){return ue(t)?t.value:t}const Tl={get:(t,e,s)=>Kt(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return ue(n)&&!ue(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function Ro(t){return Tt(t)?t:new Proxy(t,Tl)}function Cl(t){const e=U(t)?new Array(t.length):{};for(const s in t)e[s]=Al(t,s);return e}class xl{constructor(e,s,r){this._object=e,this._key=s,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return ol(J(this._object),this._key)}}function Al(t,e,s){const r=t[e];return ue(r)?r:new xl(t,e,s)}/**
* @vue/runtime-core v3.4.33
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ft(t,e,s,r){try{return r?t(...r):t()}catch(n){Zs(n,e,s)}}function Ne(t,e,s,r){if(B(t)){const n=ft(t,e,s,r);return n&&Xi(n)&&n.catch(i=>{Zs(i,e,s)}),n}if(U(t)){const n=[];for(let i=0;i<t.length;i++)n.push(Ne(t[i],e,s,r));return n}}function Zs(t,e,s,r=!0){const n=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${s}`;for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,o,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){_t(),ft(l,null,10,[t,o,a]),mt();return}}$l(t,s,n,r)}function $l(t,e,s,r=!0){console.error(t)}let ys=!1,Dr=!1;const ge=[];let ze=0;const Vt=[];let it=null,Pt=0;const To=Promise.resolve();let mn=null;function yn(t){const e=mn||To;return t?e.then(this?t.bind(this):t):e}function jl(t){let e=ze+1,s=ge.length;for(;e<s;){const r=e+s>>>1,n=ge[r],i=vs(n);i<t||i===t&&n.pre?e=r+1:s=r}return e}function vn(t){(!ge.length||!ge.includes(t,ys&&t.allowRecurse?ze+1:ze))&&(t.id==null?ge.push(t):ge.splice(jl(t.id),0,t),Co())}function Co(){!ys&&!Dr&&(Dr=!0,mn=To.then(Ao))}function Il(t){const e=ge.indexOf(t);e>ze&&ge.splice(e,1)}function Ll(t){U(t)?Vt.push(...t):(!it||!it.includes(t,t.allowRecurse?Pt+1:Pt))&&Vt.push(t),Co()}function qn(t,e,s=ys?ze+1:0){for(;s<ge.length;s++){const r=ge[s];if(r&&r.pre){if(t&&r.id!==t.uid)continue;ge.splice(s,1),s--,r()}}}function xo(t){if(Vt.length){const e=[...new Set(Vt)].sort((s,r)=>vs(s)-vs(r));if(Vt.length=0,it){it.push(...e);return}for(it=e,Pt=0;Pt<it.length;Pt++){const s=it[Pt];s.active!==!1&&s()}it=null,Pt=0}}const vs=t=>t.id==null?1/0:t.id,Dl=(t,e)=>{const s=vs(t)-vs(e);if(s===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return s};function Ao(t){Dr=!1,ys=!0,ge.sort(Dl);try{for(ze=0;ze<ge.length;ze++){const e=ge[ze];e&&e.active!==!1&&ft(e,e.i,e.i?15:14)}}finally{ze=0,ge.length=0,xo(),ys=!1,mn=null,(ge.length||Vt.length)&&Ao()}}let be=null,$o=null;function Vs(t){const e=be;return be=t,$o=t&&t.type.__scopeId||null,e}function Ul(t,e=be,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&ti(-1);const i=Vs(e);let o;try{o=t(...n)}finally{Vs(i),r._d&&ti(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Bd(t,e){if(be===null)return t;const s=nr(be),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=ie]=e[n];i&&(B(i)&&(i={mounted:i,updated:i}),i.deep&&ct(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function vt(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(_t(),Ne(l,s,8,[t.el,a,t,e]),mt())}}function jo(t,e){t.shapeFlag&6&&t.component?jo(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function bn(t,e){return B(t)?_e({name:t.name},e,{setup:t}):t}const Fs=t=>!!t.type.__asyncLoader,Io=t=>t.type.__isKeepAlive;function Ml(t,e){Lo(t,"a",e)}function Nl(t,e){Lo(t,"da",e)}function Lo(t,e,s=fe){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(er(e,r,s),s){let n=s.parent;for(;n&&n.parent;)Io(n.parent.vnode)&&Fl(r,e,s,n),n=n.parent}}function Fl(t,e,s,r){const n=er(e,t,r,!0);Do(()=>{rn(r[e],n)},s)}function er(t,e,s=fe,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{_t();const a=Os(s),l=Ne(e,s,t,o);return a(),mt(),l});return r?n.unshift(i):n.push(i),i}}const Ze=t=>(e,s=fe)=>{(!rr||t==="sp")&&er(t,(...r)=>e(...r),s)},Bl=Ze("bm"),Hl=Ze("m"),ql=Ze("bu"),Kl=Ze("u"),Vl=Ze("bum"),Do=Ze("um"),zl=Ze("sp"),Gl=Ze("rtg"),Wl=Ze("rtc");function Jl(t,e=fe){er("ec",t,e)}const Ql="components";function Yl(t,e){return Zl(Ql,t,!0,e)||t}const Xl=Symbol.for("v-ndc");function Zl(t,e,s=!0,r=!1){const n=be||fe;if(n){const i=n.type;{const a=Kc(i,!1);if(a&&(a===e||a===Fe(e)||a===Ys(Fe(e))))return i}const o=Kn(n[t]||i[t],e)||Kn(n.appContext[t],e);return!o&&r?i:o}}function Kn(t,e){return t&&(t[e]||t[Fe(e)]||t[Ys(Fe(e))])}function Hd(t,e,s,r){let n;const i=s;if(U(t)||ce(t)){n=new Array(t.length);for(let o=0,a=t.length;o<a;o++)n[o]=e(t[o],o,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let o=0;o<t;o++)n[o]=e(o+1,o,void 0,i)}else if(oe(t))if(t[Symbol.iterator])n=Array.from(t,(o,a)=>e(o,a,void 0,i));else{const o=Object.keys(t);n=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];n[a]=e(t[u],u,a,i)}}else n=[];return n}const Ur=t=>t?na(t)?nr(t):Ur(t.parent):null,cs=_e(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ur(t.parent),$root:t=>Ur(t.root),$emit:t=>t.emit,$options:t=>wn(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,vn(t.update)}),$nextTick:t=>t.n||(t.n=yn.bind(t.proxy)),$watch:t=>Ec.bind(t)}),_r=(t,e)=>t!==ie&&!t.__isScriptSetup&&W(t,e),ec={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(_r(r,e))return o[e]=1,r[e];if(n!==ie&&W(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&W(u,e))return o[e]=3,i[e];if(s!==ie&&W(s,e))return o[e]=4,s[e];Mr&&(o[e]=0)}}const c=cs[e];let h,p;if(c)return e==="$attrs"&&we(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==ie&&W(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,W(p,e))return p[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return _r(n,e)?(n[e]=s,!0):r!==ie&&W(r,e)?(r[e]=s,!0):W(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==ie&&W(t,o)||_r(e,o)||(a=i[0])&&W(a,o)||W(r,o)||W(cs,o)||W(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:W(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Vn(t){return U(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Mr=!0;function tc(t){const e=wn(t),s=t.proxy,r=t.ctx;Mr=!1,e.beforeCreate&&zn(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:p,beforeUpdate:g,updated:S,activated:E,deactivated:T,beforeDestroy:j,beforeUnmount:$,destroyed:C,unmounted:M,render:N,renderTracked:H,renderTriggered:te,errorCaptured:V,serverPrefetch:G,expose:le,inheritAttrs:de,components:Se,directives:Te,filters:yt}=e;if(u&&sc(u,r,null),o)for(const se in o){const Y=o[se];B(Y)&&(r[se]=Y.bind(s))}if(n){const se=n.call(s,s);oe(se)&&(t.data=Ps(se))}if(Mr=!0,i)for(const se in i){const Y=i[se],We=B(Y)?Y.bind(s,s):B(Y.get)?Y.get.bind(s,s):Ie,et=!B(Y)&&B(Y.set)?Y.set.bind(s):Ie,He=$e({get:We,set:et});Object.defineProperty(r,se,{enumerable:!0,configurable:!0,get:()=>He.value,set:ye=>He.value=ye})}if(a)for(const se in a)Uo(a[se],r,s,se);if(l){const se=B(l)?l.call(s):l;Reflect.ownKeys(se).forEach(Y=>{Bs(Y,se[Y])})}c&&zn(c,t,"c");function Q(se,Y){U(Y)?Y.forEach(We=>se(We.bind(s))):Y&&se(Y.bind(s))}if(Q(Bl,h),Q(Hl,p),Q(ql,g),Q(Kl,S),Q(Ml,E),Q(Nl,T),Q(Jl,V),Q(Wl,H),Q(Gl,te),Q(Vl,$),Q(Do,M),Q(zl,G),U(le))if(le.length){const se=t.exposed||(t.exposed={});le.forEach(Y=>{Object.defineProperty(se,Y,{get:()=>s[Y],set:We=>s[Y]=We})})}else t.exposed||(t.exposed={});N&&t.render===Ie&&(t.render=N),de!=null&&(t.inheritAttrs=de),Se&&(t.components=Se),Te&&(t.directives=Te)}function sc(t,e,s=Ie){U(t)&&(t=Nr(t));for(const r in t){const n=t[r];let i;oe(n)?"default"in n?i=Ge(n.from||r,n.default,!0):i=Ge(n.from||r):i=Ge(n),ue(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function zn(t,e,s){Ne(U(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function Uo(t,e,s,r){const n=r.includes(".")?Yo(s,r):()=>s[r];if(ce(t)){const i=e[t];B(i)&&us(n,i)}else if(B(t))us(n,t.bind(s));else if(oe(t))if(U(t))t.forEach(i=>Uo(i,e,s,r));else{const i=B(t.handler)?t.handler.bind(s):e[t.handler];B(i)&&us(n,i,t)}}function wn(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>zs(l,u,o,!0)),zs(l,e,o)),oe(e)&&i.set(e,l),l}function zs(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&zs(t,i,s,!0),n&&n.forEach(o=>zs(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=rc[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const rc={data:Gn,props:Wn,emits:Wn,methods:os,computed:os,beforeCreate:me,created:me,beforeMount:me,mounted:me,beforeUpdate:me,updated:me,beforeDestroy:me,beforeUnmount:me,destroyed:me,unmounted:me,activated:me,deactivated:me,errorCaptured:me,serverPrefetch:me,components:os,directives:os,watch:ic,provide:Gn,inject:nc};function Gn(t,e){return e?t?function(){return _e(B(t)?t.call(this,this):t,B(e)?e.call(this,this):e)}:e:t}function nc(t,e){return os(Nr(t),Nr(e))}function Nr(t){if(U(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function me(t,e){return t?[...new Set([].concat(t,e))]:e}function os(t,e){return t?_e(Object.create(null),t,e):e}function Wn(t,e){return t?U(t)&&U(e)?[...new Set([...t,...e])]:_e(Object.create(null),Vn(t),Vn(e??{})):e}function ic(t,e){if(!t)return e;if(!e)return t;const s=_e(Object.create(null),t);for(const r in e)s[r]=me(t[r],e[r]);return s}function Mo(){return{app:null,config:{isNativeTag:Va,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let oc=0;function ac(t,e){return function(r,n=null){B(r)||(r=_e({},r)),n!=null&&!oe(n)&&(n=null);const i=Mo(),o=new WeakSet;let a=!1;const l=i.app={_uid:oc++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:zc,get config(){return i.config},set config(u){},use(u,...c){return o.has(u)||(u&&B(u.install)?(o.add(u),u.install(l,...c)):B(u)&&(o.add(u),u(l,...c))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,c){return c?(i.components[u]=c,l):i.components[u]},directive(u,c){return c?(i.directives[u]=c,l):i.directives[u]},mount(u,c,h){if(!a){const p=Re(r,n);return p.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),c&&e?e(p,u):t(p,u,h),a=!0,l._container=u,u.__vue_app__=l,nr(p.component)}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return i.provides[u]=c,l},runWithContext(u){const c=zt;zt=l;try{return u()}finally{zt=c}}};return l}}let zt=null;function Bs(t,e){if(fe){let s=fe.provides;const r=fe.parent&&fe.parent.provides;r===s&&(s=fe.provides=Object.create(r)),s[t]=e}}function Ge(t,e,s=!1){const r=fe||be;if(r||zt){const n=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:zt._context.provides;if(n&&t in n)return n[t];if(arguments.length>1)return s&&B(e)?e.call(r&&r.proxy):e}}function lc(){return!!(fe||be||zt)}const No={},Fo=()=>Object.create(No),Bo=t=>Object.getPrototypeOf(t)===No;function cc(t,e,s,r=!1){const n={},i=Fo();t.propsDefaults=Object.create(null),Ho(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:wo(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function uc(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=J(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let p=c[h];if(tr(t.emitsOptions,p))continue;const g=e[p];if(l)if(W(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const S=Fe(p);n[S]=Fr(l,a,S,g,t,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{Ho(t,e,n,i)&&(u=!0);let c;for(const h in a)(!e||!W(e,h)&&((c=At(h))===h||!W(e,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(n[h]=Fr(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!W(e,h))&&(delete i[h],u=!0)}u&&Xe(t.attrs,"set","")}function Ho(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ls(l))continue;const u=e[l];let c;n&&W(n,c=Fe(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:tr(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=J(s),u=a||ie;for(let c=0;c<i.length;c++){const h=i[c];s[h]=Fr(n,l,h,u[h],t,!W(u,h))}}return o}function Fr(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=W(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&B(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=Os(n);r=u[s]=l.call(null,e),c()}}else r=l}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===At(s))&&(r=!0))}return r}const hc=new WeakMap;function qo(t,e,s=!1){const r=s?hc:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!B(t)){const c=h=>{l=!0;const[p,g]=qo(h,e,!0);_e(o,p),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return oe(t)&&r.set(t,Ht),Ht;if(U(i))for(let c=0;c<i.length;c++){const h=Fe(i[c]);Jn(h)&&(o[h]=ie)}else if(i)for(const c in i){const h=Fe(c);if(Jn(h)){const p=i[c],g=o[h]=U(p)||B(p)?{type:p}:_e({},p);if(g){const S=Xn(Boolean,g.type),E=Xn(String,g.type);g[0]=S>-1,g[1]=E<0||S<E,(S>-1||W(g,"default"))&&a.push(h)}}}const u=[o,a];return oe(t)&&r.set(t,u),u}function Jn(t){return t[0]!=="$"&&!ls(t)}function Qn(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function Yn(t,e){return Qn(t)===Qn(e)}function Xn(t,e){return U(e)?e.findIndex(s=>Yn(s,t)):B(e)&&Yn(e,t)?0:-1}const Ko=t=>t[0]==="_"||t==="$stable",Sn=t=>U(t)?t.map(Ve):[Ve(t)],fc=(t,e,s)=>{if(e._n)return e;const r=Ul((...n)=>Sn(e(...n)),s);return r._c=!1,r},Vo=(t,e,s)=>{const r=t._ctx;for(const n in t){if(Ko(n))continue;const i=t[n];if(B(i))e[n]=fc(n,i,r);else if(i!=null){const o=Sn(i);e[n]=()=>o}}},zo=(t,e)=>{const s=Sn(e);t.slots.default=()=>s},Go=(t,e,s)=>{for(const r in e)(s||r!=="_")&&(t[r]=e[r])},dc=(t,e,s)=>{const r=t.slots=Fo();if(t.vnode.shapeFlag&32){const n=e._;n?(Go(r,e,s),s&&to(r,"_",n,!0)):Vo(e,r)}else e&&zo(t,e)},pc=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=ie;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:Go(n,e,s):(i=!e.$stable,Vo(e,n)),o=e}else e&&(zo(t,e),o={default:1});if(i)for(const a in n)!Ko(a)&&o[a]==null&&delete n[a]};function Br(t,e,s,r,n=!1){if(U(t)){t.forEach((p,g)=>Br(p,e&&(U(e)?e[g]:e),s,r,n));return}if(Fs(r)&&!n)return;const i=r.shapeFlag&4?nr(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===ie?a.refs={}:a.refs,h=a.setupState;if(u!=null&&u!==l&&(ce(u)?(c[u]=null,W(h,u)&&(h[u]=null)):ue(u)&&(u.value=null)),B(l))ft(l,a,12,[o,c]);else{const p=ce(l),g=ue(l);if(p||g){const S=()=>{if(t.f){const E=p?W(h,l)?h[l]:c[l]:l.value;n?U(E)&&rn(E,i):U(E)?E.includes(i)||E.push(i):p?(c[l]=[i],W(h,l)&&(h[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else p?(c[l]=o,W(h,l)&&(h[l]=o)):g&&(l.value=o,t.k&&(c[t.k]=o))};o?(S.id=-1,ve(S,s)):S()}}}const gc=Symbol("_vte"),_c=t=>t.__isTeleport,ve=Ac;function mc(t){return yc(t)}function yc(t,e){const s=so();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:p,setScopeId:g=Ie,insertStaticContent:S}=t,E=(f,d,_,v=null,m=null,w=null,k=void 0,P=null,O=!!d.dynamicChildren)=>{if(f===d)return;f&&!ss(f,d)&&(v=y(f),ye(f,m,w,!0),f=null),d.patchFlag===-2&&(O=!1,d.dynamicChildren=null);const{type:b,ref:A,shapeFlag:D}=d;switch(b){case sr:T(f,d,_,v);break;case xt:j(f,d,_,v);break;case vr:f==null&&$(d,_,v,k);break;case Ye:Se(f,d,_,v,m,w,k,P,O);break;default:D&1?N(f,d,_,v,m,w,k,P,O):D&6?Te(f,d,_,v,m,w,k,P,O):(D&64||D&128)&&b.process(f,d,_,v,m,w,k,P,O,I)}A!=null&&m&&Br(A,f&&f.ref,w,d||f,!d)},T=(f,d,_,v)=>{if(f==null)r(d.el=a(d.children),_,v);else{const m=d.el=f.el;d.children!==f.children&&u(m,d.children)}},j=(f,d,_,v)=>{f==null?r(d.el=l(d.children||""),_,v):d.el=f.el},$=(f,d,_,v)=>{[f.el,f.anchor]=S(f.children,d,_,v,f.el,f.anchor)},C=({el:f,anchor:d},_,v)=>{let m;for(;f&&f!==d;)m=p(f),r(f,_,v),f=m;r(d,_,v)},M=({el:f,anchor:d})=>{let _;for(;f&&f!==d;)_=p(f),n(f),f=_;n(d)},N=(f,d,_,v,m,w,k,P,O)=>{d.type==="svg"?k="svg":d.type==="math"&&(k="mathml"),f==null?H(d,_,v,m,w,k,P,O):G(f,d,m,w,k,P,O)},H=(f,d,_,v,m,w,k,P)=>{let O,b;const{props:A,shapeFlag:D,transition:L,dirs:F}=f;if(O=f.el=o(f.type,w,A&&A.is,A),D&8?c(O,f.children):D&16&&V(f.children,O,null,v,m,mr(f,w),k,P),F&&vt(f,null,v,"created"),te(O,f,f.scopeId,k,v),A){for(const ne in A)ne!=="value"&&!ls(ne)&&i(O,ne,null,A[ne],w,v);"value"in A&&i(O,"value",null,A.value,w),(b=A.onVnodeBeforeMount)&&Ke(b,v,f)}F&&vt(f,null,v,"beforeMount");const q=vc(m,L);q&&L.beforeEnter(O),r(O,d,_),((b=A&&A.onVnodeMounted)||q||F)&&ve(()=>{b&&Ke(b,v,f),q&&L.enter(O),F&&vt(f,null,v,"mounted")},m)},te=(f,d,_,v,m)=>{if(_&&g(f,_),v)for(let w=0;w<v.length;w++)g(f,v[w]);if(m){let w=m.subTree;if(d===w){const k=m.vnode;te(f,k,k.scopeId,k.slotScopeIds,m.parent)}}},V=(f,d,_,v,m,w,k,P,O=0)=>{for(let b=O;b<f.length;b++){const A=f[b]=P?ot(f[b]):Ve(f[b]);E(null,A,d,_,v,m,w,k,P)}},G=(f,d,_,v,m,w,k)=>{const P=d.el=f.el;let{patchFlag:O,dynamicChildren:b,dirs:A}=d;O|=f.patchFlag&16;const D=f.props||ie,L=d.props||ie;let F;if(_&&bt(_,!1),(F=L.onVnodeBeforeUpdate)&&Ke(F,_,d,f),A&&vt(d,f,_,"beforeUpdate"),_&&bt(_,!0),(D.innerHTML&&L.innerHTML==null||D.textContent&&L.textContent==null)&&c(P,""),b?le(f.dynamicChildren,b,P,_,v,mr(d,m),w):k||Y(f,d,P,null,_,v,mr(d,m),w,!1),O>0){if(O&16)de(P,D,L,_,m);else if(O&2&&D.class!==L.class&&i(P,"class",null,L.class,m),O&4&&i(P,"style",D.style,L.style,m),O&8){const q=d.dynamicProps;for(let ne=0;ne<q.length;ne++){const X=q[ne],he=D[X],De=L[X];(De!==he||X==="value")&&i(P,X,he,De,m,_)}}O&1&&f.children!==d.children&&c(P,d.children)}else!k&&b==null&&de(P,D,L,_,m);((F=L.onVnodeUpdated)||A)&&ve(()=>{F&&Ke(F,_,d,f),A&&vt(d,f,_,"updated")},v)},le=(f,d,_,v,m,w,k)=>{for(let P=0;P<d.length;P++){const O=f[P],b=d[P],A=O.el&&(O.type===Ye||!ss(O,b)||O.shapeFlag&70)?h(O.el):_;E(O,b,A,null,v,m,w,k,!0)}},de=(f,d,_,v,m)=>{if(d!==_){if(d!==ie)for(const w in d)!ls(w)&&!(w in _)&&i(f,w,d[w],null,m,v);for(const w in _){if(ls(w))continue;const k=_[w],P=d[w];k!==P&&w!=="value"&&i(f,w,P,k,m,v)}"value"in _&&i(f,"value",d.value,_.value,m)}},Se=(f,d,_,v,m,w,k,P,O)=>{const b=d.el=f?f.el:a(""),A=d.anchor=f?f.anchor:a("");let{patchFlag:D,dynamicChildren:L,slotScopeIds:F}=d;F&&(P=P?P.concat(F):F),f==null?(r(b,_,v),r(A,_,v),V(d.children||[],_,A,m,w,k,P,O)):D>0&&D&64&&L&&f.dynamicChildren?(le(f.dynamicChildren,L,_,m,w,k,P),(d.key!=null||m&&d===m.subTree)&&Wo(f,d,!0)):Y(f,d,_,A,m,w,k,P,O)},Te=(f,d,_,v,m,w,k,P,O)=>{d.slotScopeIds=P,f==null?d.shapeFlag&512?m.ctx.activate(d,_,v,k,O):yt(d,_,v,m,w,k,O):Ce(f,d,O)},yt=(f,d,_,v,m,w,k)=>{const P=f.component=Nc(f,v,m);if(Io(f)&&(P.ctx.renderer=I),Fc(P,!1,k),P.asyncDep){if(m&&m.registerDep(P,Q,k),!f.el){const O=P.subTree=Re(xt);j(null,O,d,_)}}else Q(P,f,d,_,m,w,k)},Ce=(f,d,_)=>{const v=d.component=f.component;if(Tc(f,d,_))if(v.asyncDep&&!v.asyncResolved){se(v,d,_);return}else v.next=d,Il(v.update),v.effect.dirty=!0,v.update();else d.el=f.el,v.vnode=d},Q=(f,d,_,v,m,w,k)=>{const P=()=>{if(f.isMounted){let{next:A,bu:D,u:L,parent:F,vnode:q}=f;{const Lt=Jo(f);if(Lt){A&&(A.el=q.el,se(f,A,k)),Lt.asyncDep.then(()=>{f.isUnmounted||P()});return}}let ne=A,X;bt(f,!1),A?(A.el=q.el,se(f,A,k)):A=q,D&&Ms(D),(X=A.props&&A.props.onVnodeBeforeUpdate)&&Ke(X,F,A,q),bt(f,!0);const he=yr(f),De=f.subTree;f.subTree=he,E(De,he,h(De.el),y(De),f,m,w),A.el=he.el,ne===null&&Cc(f,he.el),L&&ve(L,m),(X=A.props&&A.props.onVnodeUpdated)&&ve(()=>Ke(X,F,A,q),m)}else{let A;const{el:D,props:L}=d,{bm:F,m:q,parent:ne}=f,X=Fs(d);if(bt(f,!1),F&&Ms(F),!X&&(A=L&&L.onVnodeBeforeMount)&&Ke(A,ne,d),bt(f,!0),D&&ae){const he=()=>{f.subTree=yr(f),ae(D,f.subTree,f,m,null)};X?d.type.__asyncLoader().then(()=>!f.isUnmounted&&he()):he()}else{const he=f.subTree=yr(f);E(null,he,_,v,f,m,w),d.el=he.el}if(q&&ve(q,m),!X&&(A=L&&L.onVnodeMounted)){const he=d;ve(()=>Ke(A,ne,he),m)}(d.shapeFlag&256||ne&&Fs(ne.vnode)&&ne.vnode.shapeFlag&256)&&f.a&&ve(f.a,m),f.isMounted=!0,d=_=v=null}},O=f.effect=new ln(P,Ie,()=>vn(b),f.scope),b=f.update=()=>{O.dirty&&O.run()};b.i=f,b.id=f.uid,bt(f,!0),b()},se=(f,d,_)=>{d.component=f;const v=f.vnode.props;f.vnode=d,f.next=null,uc(f,d.props,v,_),pc(f,d.children,_),_t(),qn(f),mt()},Y=(f,d,_,v,m,w,k,P,O=!1)=>{const b=f&&f.children,A=f?f.shapeFlag:0,D=d.children,{patchFlag:L,shapeFlag:F}=d;if(L>0){if(L&128){et(b,D,_,v,m,w,k,P,O);return}else if(L&256){We(b,D,_,v,m,w,k,P,O);return}}F&8?(A&16&&xe(b,m,w),D!==b&&c(_,D)):A&16?F&16?et(b,D,_,v,m,w,k,P,O):xe(b,m,w,!0):(A&8&&c(_,""),F&16&&V(D,_,v,m,w,k,P,O))},We=(f,d,_,v,m,w,k,P,O)=>{f=f||Ht,d=d||Ht;const b=f.length,A=d.length,D=Math.min(b,A);let L;for(L=0;L<D;L++){const F=d[L]=O?ot(d[L]):Ve(d[L]);E(f[L],F,_,null,m,w,k,P,O)}b>A?xe(f,m,w,!0,!1,D):V(d,_,v,m,w,k,P,O,D)},et=(f,d,_,v,m,w,k,P,O)=>{let b=0;const A=d.length;let D=f.length-1,L=A-1;for(;b<=D&&b<=L;){const F=f[b],q=d[b]=O?ot(d[b]):Ve(d[b]);if(ss(F,q))E(F,q,_,null,m,w,k,P,O);else break;b++}for(;b<=D&&b<=L;){const F=f[D],q=d[L]=O?ot(d[L]):Ve(d[L]);if(ss(F,q))E(F,q,_,null,m,w,k,P,O);else break;D--,L--}if(b>D){if(b<=L){const F=L+1,q=F<A?d[F].el:v;for(;b<=L;)E(null,d[b]=O?ot(d[b]):Ve(d[b]),_,q,m,w,k,P,O),b++}}else if(b>L)for(;b<=D;)ye(f[b],m,w,!0),b++;else{const F=b,q=b,ne=new Map;for(b=q;b<=L;b++){const Ee=d[b]=O?ot(d[b]):Ve(d[b]);Ee.key!=null&&ne.set(Ee.key,b)}let X,he=0;const De=L-q+1;let Lt=!1,$n=0;const ts=new Array(De);for(b=0;b<De;b++)ts[b]=0;for(b=F;b<=D;b++){const Ee=f[b];if(he>=De){ye(Ee,m,w,!0);continue}let qe;if(Ee.key!=null)qe=ne.get(Ee.key);else for(X=q;X<=L;X++)if(ts[X-q]===0&&ss(Ee,d[X])){qe=X;break}qe===void 0?ye(Ee,m,w,!0):(ts[qe-q]=b+1,qe>=$n?$n=qe:Lt=!0,E(Ee,d[qe],_,null,m,w,k,P,O),he++)}const jn=Lt?bc(ts):Ht;for(X=jn.length-1,b=De-1;b>=0;b--){const Ee=q+b,qe=d[Ee],In=Ee+1<A?d[Ee+1].el:v;ts[b]===0?E(null,qe,_,In,m,w,k,P,O):Lt&&(X<0||b!==jn[X]?He(qe,_,In,2):X--)}}},He=(f,d,_,v,m=null)=>{const{el:w,type:k,transition:P,children:O,shapeFlag:b}=f;if(b&6){He(f.component.subTree,d,_,v);return}if(b&128){f.suspense.move(d,_,v);return}if(b&64){k.move(f,d,_,I);return}if(k===Ye){r(w,d,_);for(let D=0;D<O.length;D++)He(O[D],d,_,v);r(f.anchor,d,_);return}if(k===vr){C(f,d,_);return}if(v!==2&&b&1&&P)if(v===0)P.beforeEnter(w),r(w,d,_),ve(()=>P.enter(w),m);else{const{leave:D,delayLeave:L,afterLeave:F}=P,q=()=>r(w,d,_),ne=()=>{D(w,()=>{q(),F&&F()})};L?L(w,q,ne):ne()}else r(w,d,_)},ye=(f,d,_,v=!1,m=!1)=>{const{type:w,props:k,ref:P,children:O,dynamicChildren:b,shapeFlag:A,patchFlag:D,dirs:L,cacheIndex:F}=f;if(D===-2&&(m=!1),P!=null&&Br(P,null,_,f,!0),F!=null&&(d.renderCache[F]=void 0),A&256){d.ctx.deactivate(f);return}const q=A&1&&L,ne=!Fs(f);let X;if(ne&&(X=k&&k.onVnodeBeforeUnmount)&&Ke(X,d,f),A&6)Ts(f.component,_,v);else{if(A&128){f.suspense.unmount(_,v);return}q&&vt(f,null,d,"beforeUnmount"),A&64?f.type.remove(f,d,_,I,v):b&&!b.hasOnce&&(w!==Ye||D>0&&D&64)?xe(b,d,_,!1,!0):(w===Ye&&D&384||!m&&A&16)&&xe(O,d,_),v&&jt(f)}(ne&&(X=k&&k.onVnodeUnmounted)||q)&&ve(()=>{X&&Ke(X,d,f),q&&vt(f,null,d,"unmounted")},_)},jt=f=>{const{type:d,el:_,anchor:v,transition:m}=f;if(d===Ye){It(_,v);return}if(d===vr){M(f);return}const w=()=>{n(_),m&&!m.persisted&&m.afterLeave&&m.afterLeave()};if(f.shapeFlag&1&&m&&!m.persisted){const{leave:k,delayLeave:P}=m,O=()=>k(_,w);P?P(f.el,w,O):O()}else w()},It=(f,d)=>{let _;for(;f!==d;)_=p(f),n(f),f=_;n(d)},Ts=(f,d,_)=>{const{bum:v,scope:m,update:w,subTree:k,um:P,m:O,a:b}=f;Zn(O),Zn(b),v&&Ms(v),m.stop(),w&&(w.active=!1,ye(k,f,d,_)),P&&ve(P,d),ve(()=>{f.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},xe=(f,d,_,v=!1,m=!1,w=0)=>{for(let k=w;k<f.length;k++)ye(f[k],d,_,v,m)},y=f=>{if(f.shapeFlag&6)return y(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const d=p(f.anchor||f.el),_=d&&d[gc];return _?p(_):d};let x=!1;const R=(f,d,_)=>{f==null?d._vnode&&ye(d._vnode,null,null,!0):E(d._vnode||null,f,d,null,null,null,_),x||(x=!0,qn(),xo(),x=!1),d._vnode=f},I={p:E,um:ye,m:He,r:jt,mt:yt,mc:V,pc:Y,pbc:le,n:y,o:t};let Z,ae;return{render:R,hydrate:Z,createApp:ac(R,Z)}}function mr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function bt({effect:t,update:e},s){t.allowRecurse=e.allowRecurse=s}function vc(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Wo(t,e,s=!1){const r=t.children,n=e.children;if(U(r)&&U(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=ot(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Wo(o,a)),a.type===sr&&(a.el=o.el)}}function bc(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Jo(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Jo(e)}function Zn(t){if(t)for(let e=0;e<t.length;e++)t[e].active=!1}const wc=Symbol.for("v-scx"),Sc=()=>Ge(wc),Is={};function us(t,e,s){return Qo(t,e,s)}function Qo(t,e,{immediate:s,deep:r,flush:n,once:i,onTrack:o,onTrigger:a}=ie){if(e&&i){const H=e;e=(...te)=>{H(...te),N()}}const l=fe,u=H=>r===!0?H:ct(H,r===!1?1:void 0);let c,h=!1,p=!1;if(ue(t)?(c=()=>t.value,h=Wt(t)):Tt(t)?(c=()=>u(t),h=!0):U(t)?(p=!0,h=t.some(H=>Tt(H)||Wt(H)),c=()=>t.map(H=>{if(ue(H))return H.value;if(Tt(H))return u(H);if(B(H))return ft(H,l,2)})):B(t)?e?c=()=>ft(t,l,2):c=()=>(g&&g(),Ne(t,l,3,[S])):c=Ie,e&&r){const H=c;c=()=>ct(H())}let g,S=H=>{g=C.onStop=()=>{ft(H,l,4),g=C.onStop=void 0}},E;if(rr)if(S=Ie,e?s&&Ne(e,l,3,[c(),p?[]:void 0,S]):c(),n==="sync"){const H=Sc();E=H.__watcherHandles||(H.__watcherHandles=[])}else return Ie;let T=p?new Array(t.length).fill(Is):Is;const j=()=>{if(!(!C.active||!C.dirty))if(e){const H=C.run();(r||h||(p?H.some((te,V)=>dt(te,T[V])):dt(H,T)))&&(g&&g(),Ne(e,l,3,[H,T===Is?void 0:p&&T[0]===Is?[]:T,S]),T=H)}else C.run()};j.allowRecurse=!!e;let $;n==="sync"?$=j:n==="post"?$=()=>ve(j,l&&l.suspense):(j.pre=!0,l&&(j.id=l.uid),$=()=>vn(j));const C=new ln(c,Ie,$),M=lo(),N=()=>{C.stop(),M&&rn(M.effects,C)};return e?s?j():T=C.run():n==="post"?ve(C.run.bind(C),l&&l.suspense):C.run(),E&&E.push(N),N}function Ec(t,e,s){const r=this.proxy,n=ce(t)?t.includes(".")?Yo(r,t):()=>r[t]:t.bind(r,r);let i;B(e)?i=e:(i=e.handler,s=e);const o=Os(this),a=Qo(n,i.bind(r),s);return o(),a}function Yo(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}function ct(t,e=1/0,s){if(e<=0||!oe(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,ue(t))ct(t.value,e,s);else if(U(t))for(let r=0;r<t.length;r++)ct(t[r],e,s);else if(Yi(t)||qt(t))t.forEach(r=>{ct(r,e,s)});else if(eo(t)){for(const r in t)ct(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&ct(t[r],e,s)}return t}const Pc=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Fe(e)}Modifiers`]||t[`${At(e)}Modifiers`];function Oc(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||ie;let n=s;const i=e.startsWith("update:"),o=i&&Pc(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>ce(c)?c.trim():c)),o.number&&(n=s.map($r)));let a,l=r[a=pr(e)]||r[a=pr(Fe(e))];!l&&i&&(l=r[a=pr(At(e))]),l&&Ne(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ne(u,t,6,n)}}function Xo(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!B(t)){const l=u=>{const c=Xo(u,e,!0);c&&(a=!0,_e(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(oe(t)&&r.set(t,null),null):(U(i)?i.forEach(l=>o[l]=null):_e(o,i),oe(t)&&r.set(t,o),o)}function tr(t,e){return!t||!Ws(e)?!1:(e=e.slice(2).replace(/Once$/,""),W(t,e[0].toLowerCase()+e.slice(1))||W(t,At(e))||W(t,e))}function yr(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:p,setupState:g,ctx:S,inheritAttrs:E}=t,T=Vs(t);let j,$;try{if(s.shapeFlag&4){const M=n||r,N=M;j=Ve(u.call(N,M,c,h,g,p,S)),$=a}else{const M=e;j=Ve(M.length>1?M(h,{attrs:a,slots:o,emit:l}):M(h,null)),$=e.props?a:kc(a)}}catch(M){hs.length=0,Zs(M,t,1),j=Re(xt)}let C=j;if($&&E!==!1){const M=Object.keys($),{shapeFlag:N}=C;M.length&&N&7&&(i&&M.some(sn)&&($=Rc($,i)),C=Jt(C,$,!1,!0))}return s.dirs&&(C=Jt(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(s.dirs):s.dirs),s.transition&&(C.transition=s.transition),j=C,Vs(T),j}const kc=t=>{let e;for(const s in t)(s==="class"||s==="style"||Ws(s))&&((e||(e={}))[s]=t[s]);return e},Rc=(t,e)=>{const s={};for(const r in t)(!sn(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function Tc(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?ei(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const p=c[h];if(o[p]!==r[p]&&!tr(u,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?ei(r,o,u):!0:!!o;return!1}function ei(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!tr(s,i))return!0}return!1}function Cc({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const xc=t=>t.__isSuspense;function Ac(t,e){e&&e.pendingBranch?U(t)?e.effects.push(...t):e.effects.push(t):Ll(t)}const Ye=Symbol.for("v-fgt"),sr=Symbol.for("v-txt"),xt=Symbol.for("v-cmt"),vr=Symbol.for("v-stc"),hs=[];let ke=null;function Zo(t=!1){hs.push(ke=t?null:[])}function $c(){hs.pop(),ke=hs[hs.length-1]||null}let bs=1;function ti(t){bs+=t,t<0&&ke&&(ke.hasOnce=!0)}function ea(t){return t.dynamicChildren=bs>0?ke||Ht:null,$c(),bs>0&&ke&&ke.push(t),t}function qd(t,e,s,r,n,i){return ea(ra(t,e,s,r,n,i,!0))}function ta(t,e,s,r,n){return ea(Re(t,e,s,r,n,!0))}function Hr(t){return t?t.__v_isVNode===!0:!1}function ss(t,e){return t.type===e.type&&t.key===e.key}const sa=({key:t})=>t??null,Hs=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?ce(t)||ue(t)||B(t)?{i:be,r:t,k:e,f:!!s}:t:null);function ra(t,e=null,s=null,r=0,n=null,i=t===Ye?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&sa(e),ref:e&&Hs(e),scopeId:$o,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:be};return a?(En(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=ce(s)?8:16),bs>0&&!o&&ke&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&ke.push(l),l}const Re=jc;function jc(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===Xl)&&(t=xt),Hr(t)){const a=Jt(t,e,!0);return s&&En(a,s),bs>0&&!i&&ke&&(a.shapeFlag&6?ke[ke.indexOf(t)]=a:ke.push(a)),a.patchFlag=-2,a}if(Vc(t)&&(t=t.__vccOpts),e){e=Ic(e);let{class:a,style:l}=e;a&&!ce(a)&&(e.class=an(a)),oe(l)&&(Eo(l)&&!U(l)&&(l=_e({},l)),e.style=on(l))}const o=ce(t)?1:xc(t)?128:_c(t)?64:oe(t)?4:B(t)?2:0;return ra(t,e,s,r,n,o,i,!0)}function Ic(t){return t?Eo(t)||Bo(t)?_e({},t):t:null}function Jt(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Dc(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&sa(u),ref:e&&e.ref?s&&i?U(i)?i.concat(Hs(e)):[i,Hs(e)]:Hs(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ye?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Jt(t.ssContent),ssFallback:t.ssFallback&&Jt(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&jo(c,l.clone(c)),c}function Lc(t=" ",e=0){return Re(sr,null,t,e)}function Kd(t="",e=!1){return e?(Zo(),ta(xt,null,t)):Re(xt,null,t)}function Ve(t){return t==null||typeof t=="boolean"?Re(xt):U(t)?Re(Ye,null,t.slice()):typeof t=="object"?ot(t):Re(sr,null,String(t))}function ot(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Jt(t)}function En(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(U(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),En(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!Bo(e)?e._ctx=be:n===3&&be&&(be.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else B(e)?(e={default:e,_ctx:be},s=32):(e=String(e),r&64?(s=16,e=[Lc(e)]):s=8);t.children=e,t.shapeFlag|=s}function Dc(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=an([e.class,r.class]));else if(n==="style")e.style=on([e.style,r.style]);else if(Ws(n)){const i=e[n],o=r[n];o&&i!==o&&!(U(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function Ke(t,e,s,r=null){Ne(t,e,7,[s,r])}const Uc=Mo();let Mc=0;function Nc(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||Uc,i={uid:Mc++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new oo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:qo(r,n),emitsOptions:Xo(r,n),emit:null,emitted:null,propsDefaults:ie,inheritAttrs:r.inheritAttrs,ctx:ie,data:ie,props:ie,attrs:ie,slots:ie,refs:ie,setupState:ie,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Oc.bind(null,i),t.ce&&t.ce(i),i}let fe=null,Gs,qr;{const t=so(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Gs=e("__VUE_INSTANCE_SETTERS__",s=>fe=s),qr=e("__VUE_SSR_SETTERS__",s=>rr=s)}const Os=t=>{const e=fe;return Gs(t),t.scope.on(),()=>{t.scope.off(),Gs(e)}},si=()=>{fe&&fe.scope.off(),Gs(null)};function na(t){return t.vnode.shapeFlag&4}let rr=!1;function Fc(t,e=!1,s=!1){e&&qr(e);const{props:r,children:n}=t.vnode,i=na(t);cc(t,r,i,e),dc(t,n,s);const o=i?Bc(t,e):void 0;return e&&qr(!1),o}function Bc(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,ec);const{setup:r}=s;if(r){const n=t.setupContext=r.length>1?qc(t):null,i=Os(t);_t();const o=ft(r,t,0,[t.props,n]);if(mt(),i(),Xi(o)){if(o.then(si,si),e)return o.then(a=>{ri(t,a,e)}).catch(a=>{Zs(a,t,0)});t.asyncDep=o}else ri(t,o,e)}else ia(t,e)}function ri(t,e,s){B(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:oe(e)&&(t.setupState=Ro(e)),ia(t,s)}let ni;function ia(t,e,s){const r=t.type;if(!t.render){if(!e&&ni&&!r.render){const n=r.template||wn(t).template;if(n){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=_e(_e({isCustomElement:i,delimiters:a},o),l);r.render=ni(n,u)}}t.render=r.render||Ie}{const n=Os(t);_t();try{tc(t)}finally{mt(),n()}}}const Hc={get(t,e){return we(t,"get",""),t[e]}};function qc(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Hc),slots:t.slots,emit:t.emit,expose:e}}function nr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ro(pn(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in cs)return cs[s](t)},has(e,s){return s in e||s in cs}})):t.proxy}function Kc(t,e=!0){return B(t)?t.displayName||t.name:t.name||e&&t.__name}function Vc(t){return B(t)&&"__vccOpts"in t}const $e=(t,e)=>Ol(t,e,rr);function oa(t,e,s){const r=arguments.length;return r===2?oe(e)&&!U(e)?Hr(e)?Re(t,null,[e]):Re(t,e):Re(t,null,e):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&Hr(s)&&(s=[s]),Re(t,e,s))}const zc="3.4.33";/**
* @vue/runtime-dom v3.4.33
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Gc="http://www.w3.org/2000/svg",Wc="http://www.w3.org/1998/Math/MathML",Qe=typeof document<"u"?document:null,ii=Qe&&Qe.createElement("template"),Jc={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?Qe.createElementNS(Gc,t):e==="mathml"?Qe.createElementNS(Wc,t):s?Qe.createElement(t,{is:s}):Qe.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>Qe.createTextNode(t),createComment:t=>Qe.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Qe.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{ii.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=ii.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Qc=Symbol("_vtc");function Yc(t,e,s){const r=t[Qc];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const oi=Symbol("_vod"),Xc=Symbol("_vsh"),Zc=Symbol(""),eu=/(^|;)\s*display\s*:/;function tu(t,e,s){const r=t.style,n=ce(s);let i=!1;if(s&&!n){if(e)if(ce(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&qs(r,a,"")}else for(const o in e)s[o]==null&&qs(r,o,"");for(const o in s)o==="display"&&(i=!0),qs(r,o,s[o])}else if(n){if(e!==s){const o=r[Zc];o&&(s+=";"+o),r.cssText=s,i=eu.test(s)}}else e&&t.removeAttribute("style");oi in t&&(t[oi]=i?r.display:"",t[Xc]&&(r.display="none"))}const ai=/\s*!important$/;function qs(t,e,s){if(U(s))s.forEach(r=>qs(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=su(t,e);ai.test(s)?t.setProperty(At(r),s.replace(ai,""),"important"):t[r]=s}}const li=["Webkit","Moz","ms"],br={};function su(t,e){const s=br[e];if(s)return s;let r=Fe(e);if(r!=="filter"&&r in t)return br[e]=r;r=Ys(r);for(let n=0;n<li.length;n++){const i=li[n]+r;if(i in t)return br[e]=i}return e}const ci="http://www.w3.org/1999/xlink";function ui(t,e,s,r,n,i=tl(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(ci,e.slice(6,e.length)):t.setAttributeNS(ci,e,s):s==null||i&&!ro(s)?t.removeAttribute(e):t.setAttribute(e,i?"":gt(s)?String(s):s)}function ru(t,e,s,r){if(e==="innerHTML"||e==="textContent"){if(s==null)return;t[e]=s;return}const n=t.tagName;if(e==="value"&&n!=="PROGRESS"&&!n.includes("-")){const o=n==="OPTION"?t.getAttribute("value")||"":t.value,a=s==null?"":String(s);(o!==a||!("_value"in t))&&(t.value=a),s==null&&t.removeAttribute(e),t._value=s;return}let i=!1;if(s===""||s==null){const o=typeof t[e];o==="boolean"?s=ro(s):s==null&&o==="string"?(s="",i=!0):o==="number"&&(s=0,i=!0)}try{t[e]=s}catch{}i&&t.removeAttribute(e)}function Ft(t,e,s,r){t.addEventListener(e,s,r)}function nu(t,e,s,r){t.removeEventListener(e,s,r)}const hi=Symbol("_vei");function iu(t,e,s,r,n=null){const i=t[hi]||(t[hi]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=ou(e);if(r){const u=i[e]=cu(r,n);Ft(t,a,u,l)}else o&&(nu(t,a,o,l),i[e]=void 0)}}const fi=/(?:Once|Passive|Capture)$/;function ou(t){let e;if(fi.test(t)){e={};let r;for(;r=t.match(fi);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):At(t.slice(2)),e]}let wr=0;const au=Promise.resolve(),lu=()=>wr||(au.then(()=>wr=0),wr=Date.now());function cu(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;Ne(uu(r,s.value),e,5,[r])};return s.value=t,s.attached=lu(),s}function uu(t,e){if(U(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const di=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,hu=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?Yc(t,r,o):e==="style"?tu(t,s,r):Ws(e)?sn(e)||iu(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):fu(t,e,r,o))?(ru(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ui(t,e,r,o,i,e!=="value")):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),ui(t,e,r,o))};function fu(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&di(e)&&B(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return di(e)&&ce(s)?!1:e in t}const pi=t=>{const e=t.props["onUpdate:modelValue"]||!1;return U(e)?s=>Ms(e,s):e};function du(t){t.target.composing=!0}function gi(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Sr=Symbol("_assign"),Vd={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[Sr]=pi(n);const i=r||n.props&&n.props.type==="number";Ft(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=$r(a)),t[Sr](a)}),s&&Ft(t,"change",()=>{t.value=t.value.trim()}),e||(Ft(t,"compositionstart",du),Ft(t,"compositionend",gi),Ft(t,"change",gi))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[Sr]=pi(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?$r(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},pu=["ctrl","shift","alt","meta"],gu={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>pu.some(s=>t[`${s}Key`]&&!e.includes(s))},zd=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=gu[e[o]];if(a&&a(n,e))return}return t(n,...i)})},_u=_e({patchProp:hu},Jc);let _i;function mu(){return _i||(_i=mc(_u))}const yu=(...t)=>{const e=mu().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=bu(r);if(!n)return;const i=e._component;!B(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.innerHTML="";const o=s(n,!1,vu(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function vu(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function bu(t){return ce(t)?document.querySelector(t):t}const wu="modulepreload",Su=function(t){return"/taboo-blindtest/"+t},mi={},pt=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));n=Promise.all(s.map(a=>{if(a=Su(a),a in mi)return;mi[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":wu,l||(c.as="script",c.crossOrigin=""),c.href=a,o&&c.setAttribute("nonce",o),document.head.appendChild(c),l)return new Promise((h,p)=>{c.addEventListener("load",h),c.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${a}`)))})}))}return n.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};/*!
  * vue-router v4.4.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Bt=typeof document<"u";function Eu(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ee=Object.assign;function Er(t,e){const s={};for(const r in e){const n=e[r];s[r]=Be(n)?n.map(t):t(n)}return s}const fs=()=>{},Be=Array.isArray,aa=/#/g,Pu=/&/g,Ou=/\//g,ku=/=/g,Ru=/\?/g,la=/\+/g,Tu=/%5B/g,Cu=/%5D/g,ca=/%5E/g,xu=/%60/g,ua=/%7B/g,Au=/%7C/g,ha=/%7D/g,$u=/%20/g;function Pn(t){return encodeURI(""+t).replace(Au,"|").replace(Tu,"[").replace(Cu,"]")}function ju(t){return Pn(t).replace(ua,"{").replace(ha,"}").replace(ca,"^")}function Kr(t){return Pn(t).replace(la,"%2B").replace($u,"+").replace(aa,"%23").replace(Pu,"%26").replace(xu,"`").replace(ua,"{").replace(ha,"}").replace(ca,"^")}function Iu(t){return Kr(t).replace(ku,"%3D")}function Lu(t){return Pn(t).replace(aa,"%23").replace(Ru,"%3F")}function Du(t){return t==null?"":Lu(t).replace(Ou,"%2F")}function ws(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Uu=/\/$/,Mu=t=>t.replace(Uu,"");function Pr(t,e,s="/"){let r,n={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),n=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=Hu(r??e,s),{fullPath:r+(i&&"?")+i+o,path:r,query:n,hash:ws(o)}}function Nu(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function yi(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Fu(t,e,s){const r=e.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&Qt(e.matched[r],s.matched[n])&&fa(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function Qt(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function fa(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!Bu(t[s],e[s]))return!1;return!0}function Bu(t,e){return Be(t)?vi(t,e):Be(e)?vi(e,t):t===e}function vi(t,e){return Be(e)?t.length===e.length&&t.every((s,r)=>s===e[r]):t.length===1&&t[0]===e}function Hu(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),r=t.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let i=s.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const st={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ss;(function(t){t.pop="pop",t.push="push"})(Ss||(Ss={}));var ds;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ds||(ds={}));function qu(t){if(!t)if(Bt){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Mu(t)}const Ku=/^[^#]+#/;function Vu(t,e){return t.replace(Ku,"#")+e}function zu(t,e){const s=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-s.left-(e.left||0),top:r.top-s.top-(e.top||0)}}const ir=()=>({left:window.scrollX,top:window.scrollY});function Gu(t){let e;if("el"in t){const s=t.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;e=zu(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function bi(t,e){return(history.state?history.state.position-e:-1)+t}const Vr=new Map;function Wu(t,e){Vr.set(t,e)}function Ju(t){const e=Vr.get(t);return Vr.delete(t),e}let Qu=()=>location.protocol+"//"+location.host;function da(t,e){const{pathname:s,search:r,hash:n}=e,i=t.indexOf("#");if(i>-1){let a=n.includes(t.slice(i))?t.slice(i).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),yi(l,"")}return yi(s,t)+r+n}function Yu(t,e,s,r){let n=[],i=[],o=null;const a=({state:p})=>{const g=da(t,location),S=s.value,E=e.value;let T=0;if(p){if(s.value=g,e.value=p,o&&o===S){o=null;return}T=E?p.position-E.position:0}else r(g);n.forEach(j=>{j(s.value,S,{delta:T,type:Ss.pop,direction:T?T>0?ds.forward:ds.back:ds.unknown})})};function l(){o=s.value}function u(p){n.push(p);const g=()=>{const S=n.indexOf(p);S>-1&&n.splice(S,1)};return i.push(g),g}function c(){const{history:p}=window;p.state&&p.replaceState(ee({},p.state,{scroll:ir()}),"")}function h(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function wi(t,e,s,r=!1,n=!1){return{back:t,current:e,forward:s,replaced:r,position:window.history.length,scroll:n?ir():null}}function Xu(t){const{history:e,location:s}=window,r={value:da(t,s)},n={value:e.state};n.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const h=t.indexOf("#"),p=h>-1?(s.host&&document.querySelector("base")?t:t.slice(h))+l:Qu()+t+l;try{e[c?"replaceState":"pushState"](u,"",p),n.value=u}catch(g){console.error(g),s[c?"replace":"assign"](p)}}function o(l,u){const c=ee({},e.state,wi(n.value.back,l,n.value.forward,!0),u,{position:n.value.position});i(l,c,!0),r.value=l}function a(l,u){const c=ee({},n.value,e.state,{forward:l,scroll:ir()});i(c.current,c,!0);const h=ee({},wi(r.value,l,null),{position:c.position+1},u);i(l,h,!1),r.value=l}return{location:r,state:n,push:a,replace:o}}function Zu(t){t=qu(t);const e=Xu(t),s=Yu(t,e.state,e.location,e.replace);function r(i,o=!0){o||s.pauseListeners(),history.go(i)}const n=ee({location:"",base:t,go:r,createHref:Vu.bind(null,t)},e,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function eh(t){return typeof t=="string"||t&&typeof t=="object"}function pa(t){return typeof t=="string"||typeof t=="symbol"}const ga=Symbol("");var Si;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Si||(Si={}));function Yt(t,e){return ee(new Error,{type:t,[ga]:!0},e)}function Je(t,e){return t instanceof Error&&ga in t&&(e==null||!!(t.type&e))}const Ei="[^/]+?",th={sensitive:!1,strict:!1,start:!0,end:!0},sh=/[.+*?^${}()[\]/\\]/g;function rh(t,e){const s=ee({},th,e),r=[];let n=s.start?"^":"";const i=[];for(const u of t){const c=u.length?[]:[90];s.strict&&!u.length&&(n+="/");for(let h=0;h<u.length;h++){const p=u[h];let g=40+(s.sensitive?.25:0);if(p.type===0)h||(n+="/"),n+=p.value.replace(sh,"\\$&"),g+=40;else if(p.type===1){const{value:S,repeatable:E,optional:T,regexp:j}=p;i.push({name:S,repeatable:E,optional:T});const $=j||Ei;if($!==Ei){g+=10;try{new RegExp(`(${$})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${S}" (${$}): `+M.message)}}let C=E?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;h||(C=T&&u.length<2?`(?:/${C})`:"/"+C),T&&(C+="?"),n+=C,g+=20,T&&(g+=-8),E&&(g+=-20),$===".*"&&(g+=-50)}c.push(g)}r.push(c)}if(s.strict&&s.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let p=1;p<c.length;p++){const g=c[p]||"",S=i[p-1];h[S.name]=g&&S.repeatable?g.split("/"):g}return h}function l(u){let c="",h=!1;for(const p of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const g of p)if(g.type===0)c+=g.value;else if(g.type===1){const{value:S,repeatable:E,optional:T}=g,j=S in u?u[S]:"";if(Be(j)&&!E)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const $=Be(j)?j.join("/"):j;if(!$)if(T)p.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${S}"`);c+=$}}return c||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function nh(t,e){let s=0;for(;s<t.length&&s<e.length;){const r=e[s]-t[s];if(r)return r;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function _a(t,e){let s=0;const r=t.score,n=e.score;for(;s<r.length&&s<n.length;){const i=nh(r[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-r.length)===1){if(Pi(r))return 1;if(Pi(n))return-1}return n.length-r.length}function Pi(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const ih={type:0,value:""},oh=/[a-zA-Z0-9_]/;function ah(t){if(!t)return[[]];if(t==="/")return[[ih]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${s})/"${u}": ${g}`)}let s=0,r=s;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,u="",c="";function h(){u&&(s===0?i.push({type:0,value:u}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function p(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),s=1):p();break;case 4:p(),s=r;break;case 1:l==="("?s=2:oh.test(l)?p():(h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),n}function lh(t,e,s){const r=rh(ah(t.path),s),n=ee(r,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function ch(t,e){const s=[],r=new Map;e=Ri({strict:!1,end:!0,sensitive:!1},e);function n(h){return r.get(h)}function i(h,p,g){const S=!g,E=uh(h);E.aliasOf=g&&g.record;const T=Ri(e,h),j=[E];if("alias"in h){const M=typeof h.alias=="string"?[h.alias]:h.alias;for(const N of M)j.push(ee({},E,{components:g?g.record.components:E.components,path:N,aliasOf:g?g.record:E}))}let $,C;for(const M of j){const{path:N}=M;if(p&&N[0]!=="/"){const H=p.record.path,te=H[H.length-1]==="/"?"":"/";M.path=p.record.path+(N&&te+N)}if($=lh(M,p,T),g?g.alias.push($):(C=C||$,C!==$&&C.alias.push($),S&&h.name&&!ki($)&&o(h.name)),ma($)&&l($),E.children){const H=E.children;for(let te=0;te<H.length;te++)i(H[te],$,g&&g.children[te])}g=g||$}return C?()=>{o(C)}:fs}function o(h){if(pa(h)){const p=r.get(h);p&&(r.delete(h),s.splice(s.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=s.indexOf(h);p>-1&&(s.splice(p,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return s}function l(h){const p=dh(h,s);s.splice(p,0,h),h.record.name&&!ki(h)&&r.set(h.record.name,h)}function u(h,p){let g,S={},E,T;if("name"in h&&h.name){if(g=r.get(h.name),!g)throw Yt(1,{location:h});T=g.record.name,S=ee(Oi(p.params,g.keys.filter(C=>!C.optional).concat(g.parent?g.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),h.params&&Oi(h.params,g.keys.map(C=>C.name))),E=g.stringify(S)}else if(h.path!=null)E=h.path,g=s.find(C=>C.re.test(E)),g&&(S=g.parse(E),T=g.record.name);else{if(g=p.name?r.get(p.name):s.find(C=>C.re.test(p.path)),!g)throw Yt(1,{location:h,currentLocation:p});T=g.record.name,S=ee({},p.params,h.params),E=g.stringify(S)}const j=[];let $=g;for(;$;)j.unshift($.record),$=$.parent;return{name:T,path:E,params:S,matched:j,meta:fh(j)}}t.forEach(h=>i(h));function c(){s.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:n}}function Oi(t,e){const s={};for(const r of e)r in t&&(s[r]=t[r]);return s}function uh(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:hh(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function hh(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const r in t.components)e[r]=typeof s=="object"?s[r]:s;return e}function ki(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function fh(t){return t.reduce((e,s)=>ee(e,s.meta),{})}function Ri(t,e){const s={};for(const r in t)s[r]=r in e?e[r]:t[r];return s}function dh(t,e){let s=0,r=e.length;for(;s!==r;){const i=s+r>>1;_a(t,e[i])<0?r=i:s=i+1}const n=ph(t);return n&&(r=e.lastIndexOf(n,r-1)),r}function ph(t){let e=t;for(;e=e.parent;)if(ma(e)&&_a(t,e)===0)return e}function ma({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function gh(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<r.length;++n){const i=r[n].replace(la," "),o=i.indexOf("="),a=ws(o<0?i:i.slice(0,o)),l=o<0?null:ws(i.slice(o+1));if(a in e){let u=e[a];Be(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function Ti(t){let e="";for(let s in t){const r=t[s];if(s=Iu(s),r==null){r!==void 0&&(e+=(e.length?"&":"")+s);continue}(Be(r)?r.map(i=>i&&Kr(i)):[r&&Kr(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+s,i!=null&&(e+="="+i))})}return e}function _h(t){const e={};for(const s in t){const r=t[s];r!==void 0&&(e[s]=Be(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return e}const mh=Symbol(""),Ci=Symbol(""),On=Symbol(""),ya=Symbol(""),zr=Symbol("");function rs(){let t=[];function e(r){return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function at(t,e,s,r,n,i=o=>o()){const o=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const u=p=>{p===!1?l(Yt(4,{from:s,to:e})):p instanceof Error?l(p):eh(p)?l(Yt(2,{from:e,to:p})):(o&&r.enterCallbacks[n]===o&&typeof p=="function"&&o.push(p),a())},c=i(()=>t.call(r&&r.instances[n],e,s,u));let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch(p=>l(p))})}function Or(t,e,s,r,n=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(yh(l)){const c=(l.__vccOpts||l)[e];c&&i.push(at(c,s,r,o,a,n))}else{let u=l();i.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const h=Eu(c)?c.default:c;o.components[a]=h;const g=(h.__vccOpts||h)[e];return g&&at(g,s,r,o,a,n)()}))}}return i}function yh(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function xi(t){const e=Ge(On),s=Ge(ya),r=$e(()=>{const l=Kt(t.to);return e.resolve(l)}),n=$e(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=s.matched;if(!c||!h.length)return-1;const p=h.findIndex(Qt.bind(null,c));if(p>-1)return p;const g=Ai(l[u-2]);return u>1&&Ai(c)===g&&h[h.length-1].path!==g?h.findIndex(Qt.bind(null,l[u-2])):p}),i=$e(()=>n.value>-1&&Sh(s.params,r.value.params)),o=$e(()=>n.value>-1&&n.value===s.matched.length-1&&fa(s.params,r.value.params));function a(l={}){return wh(l)?e[Kt(t.replace)?"replace":"push"](Kt(t.to)).catch(fs):Promise.resolve()}return{route:r,href:$e(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const vh=bn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:xi,setup(t,{slots:e}){const s=Ps(xi(t)),{options:r}=Ge(On),n=$e(()=>({[$i(t.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[$i(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&e.default(s);return t.custom?i:oa("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),bh=vh;function wh(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Sh(t,e){for(const s in e){const r=e[s],n=t[s];if(typeof r=="string"){if(r!==n)return!1}else if(!Be(n)||n.length!==r.length||r.some((i,o)=>i!==n[o]))return!1}return!0}function Ai(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const $i=(t,e,s)=>t??e??s,Eh=bn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const r=Ge(zr),n=$e(()=>t.route||r.value),i=Ge(Ci,0),o=$e(()=>{let u=Kt(i);const{matched:c}=n.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=$e(()=>n.value.matched[o.value]);Bs(Ci,$e(()=>o.value+1)),Bs(mh,a),Bs(zr,n);const l=_n();return us(()=>[l.value,a.value,t.name],([u,c,h],[p,g,S])=>{c&&(c.instances[h]=u,g&&g!==c&&u&&u===p&&(c.leaveGuards.size||(c.leaveGuards=g.leaveGuards),c.updateGuards.size||(c.updateGuards=g.updateGuards))),u&&c&&(!g||!Qt(c,g)||!p)&&(c.enterCallbacks[h]||[]).forEach(E=>E(u))},{flush:"post"}),()=>{const u=n.value,c=t.name,h=a.value,p=h&&h.components[c];if(!p)return ji(s.default,{Component:p,route:u});const g=h.props[c],S=g?g===!0?u.params:typeof g=="function"?g(u):g:null,T=oa(p,ee({},S,e,{onVnodeUnmounted:j=>{j.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return ji(s.default,{Component:T,route:u})||T}}});function ji(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const Ph=Eh;function Oh(t){const e=ch(t.routes,t),s=t.parseQuery||gh,r=t.stringifyQuery||Ti,n=t.history,i=rs(),o=rs(),a=rs(),l=kl(st);let u=st;Bt&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Er.bind(null,y=>""+y),h=Er.bind(null,Du),p=Er.bind(null,ws);function g(y,x){let R,I;return pa(y)?(R=e.getRecordMatcher(y),I=x):I=y,e.addRoute(I,R)}function S(y){const x=e.getRecordMatcher(y);x&&e.removeRoute(x)}function E(){return e.getRoutes().map(y=>y.record)}function T(y){return!!e.getRecordMatcher(y)}function j(y,x){if(x=ee({},x||l.value),typeof y=="string"){const d=Pr(s,y,x.path),_=e.resolve({path:d.path},x),v=n.createHref(d.fullPath);return ee(d,_,{params:p(_.params),hash:ws(d.hash),redirectedFrom:void 0,href:v})}let R;if(y.path!=null)R=ee({},y,{path:Pr(s,y.path,x.path).path});else{const d=ee({},y.params);for(const _ in d)d[_]==null&&delete d[_];R=ee({},y,{params:h(d)}),x.params=h(x.params)}const I=e.resolve(R,x),Z=y.hash||"";I.params=c(p(I.params));const ae=Nu(r,ee({},y,{hash:ju(Z),path:I.path})),f=n.createHref(ae);return ee({fullPath:ae,hash:Z,query:r===Ti?_h(y.query):y.query||{}},I,{redirectedFrom:void 0,href:f})}function $(y){return typeof y=="string"?Pr(s,y,l.value.path):ee({},y)}function C(y,x){if(u!==y)return Yt(8,{from:x,to:y})}function M(y){return te(y)}function N(y){return M(ee($(y),{replace:!0}))}function H(y){const x=y.matched[y.matched.length-1];if(x&&x.redirect){const{redirect:R}=x;let I=typeof R=="function"?R(y):R;return typeof I=="string"&&(I=I.includes("?")||I.includes("#")?I=$(I):{path:I},I.params={}),ee({query:y.query,hash:y.hash,params:I.path!=null?{}:y.params},I)}}function te(y,x){const R=u=j(y),I=l.value,Z=y.state,ae=y.force,f=y.replace===!0,d=H(R);if(d)return te(ee($(d),{state:typeof d=="object"?ee({},Z,d.state):Z,force:ae,replace:f}),x||R);const _=R;_.redirectedFrom=x;let v;return!ae&&Fu(r,I,R)&&(v=Yt(16,{to:_,from:I}),He(I,I,!0,!1)),(v?Promise.resolve(v):le(_,I)).catch(m=>Je(m)?Je(m,2)?m:et(m):Y(m,_,I)).then(m=>{if(m){if(Je(m,2))return te(ee({replace:f},$(m.to),{state:typeof m.to=="object"?ee({},Z,m.to.state):Z,force:ae}),x||_)}else m=Se(_,I,!0,f,Z);return de(_,I,m),m})}function V(y,x){const R=C(y,x);return R?Promise.reject(R):Promise.resolve()}function G(y){const x=It.values().next().value;return x&&typeof x.runWithContext=="function"?x.runWithContext(y):y()}function le(y,x){let R;const[I,Z,ae]=kh(y,x);R=Or(I.reverse(),"beforeRouteLeave",y,x);for(const d of I)d.leaveGuards.forEach(_=>{R.push(at(_,y,x))});const f=V.bind(null,y,x);return R.push(f),xe(R).then(()=>{R=[];for(const d of i.list())R.push(at(d,y,x));return R.push(f),xe(R)}).then(()=>{R=Or(Z,"beforeRouteUpdate",y,x);for(const d of Z)d.updateGuards.forEach(_=>{R.push(at(_,y,x))});return R.push(f),xe(R)}).then(()=>{R=[];for(const d of ae)if(d.beforeEnter)if(Be(d.beforeEnter))for(const _ of d.beforeEnter)R.push(at(_,y,x));else R.push(at(d.beforeEnter,y,x));return R.push(f),xe(R)}).then(()=>(y.matched.forEach(d=>d.enterCallbacks={}),R=Or(ae,"beforeRouteEnter",y,x,G),R.push(f),xe(R))).then(()=>{R=[];for(const d of o.list())R.push(at(d,y,x));return R.push(f),xe(R)}).catch(d=>Je(d,8)?d:Promise.reject(d))}function de(y,x,R){a.list().forEach(I=>G(()=>I(y,x,R)))}function Se(y,x,R,I,Z){const ae=C(y,x);if(ae)return ae;const f=x===st,d=Bt?history.state:{};R&&(I||f?n.replace(y.fullPath,ee({scroll:f&&d&&d.scroll},Z)):n.push(y.fullPath,Z)),l.value=y,He(y,x,R,f),et()}let Te;function yt(){Te||(Te=n.listen((y,x,R)=>{if(!Ts.listening)return;const I=j(y),Z=H(I);if(Z){te(ee(Z,{replace:!0}),I).catch(fs);return}u=I;const ae=l.value;Bt&&Wu(bi(ae.fullPath,R.delta),ir()),le(I,ae).catch(f=>Je(f,12)?f:Je(f,2)?(te(f.to,I).then(d=>{Je(d,20)&&!R.delta&&R.type===Ss.pop&&n.go(-1,!1)}).catch(fs),Promise.reject()):(R.delta&&n.go(-R.delta,!1),Y(f,I,ae))).then(f=>{f=f||Se(I,ae,!1),f&&(R.delta&&!Je(f,8)?n.go(-R.delta,!1):R.type===Ss.pop&&Je(f,20)&&n.go(-1,!1)),de(I,ae,f)}).catch(fs)}))}let Ce=rs(),Q=rs(),se;function Y(y,x,R){et(y);const I=Q.list();return I.length?I.forEach(Z=>Z(y,x,R)):console.error(y),Promise.reject(y)}function We(){return se&&l.value!==st?Promise.resolve():new Promise((y,x)=>{Ce.add([y,x])})}function et(y){return se||(se=!y,yt(),Ce.list().forEach(([x,R])=>y?R(y):x()),Ce.reset()),y}function He(y,x,R,I){const{scrollBehavior:Z}=t;if(!Bt||!Z)return Promise.resolve();const ae=!R&&Ju(bi(y.fullPath,0))||(I||!R)&&history.state&&history.state.scroll||null;return yn().then(()=>Z(y,x,ae)).then(f=>f&&Gu(f)).catch(f=>Y(f,y,x))}const ye=y=>n.go(y);let jt;const It=new Set,Ts={currentRoute:l,listening:!0,addRoute:g,removeRoute:S,clearRoutes:e.clearRoutes,hasRoute:T,getRoutes:E,resolve:j,options:t,push:M,replace:N,go:ye,back:()=>ye(-1),forward:()=>ye(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Q.add,isReady:We,install(y){const x=this;y.component("RouterLink",bh),y.component("RouterView",Ph),y.config.globalProperties.$router=x,Object.defineProperty(y.config.globalProperties,"$route",{enumerable:!0,get:()=>Kt(l)}),Bt&&!jt&&l.value===st&&(jt=!0,M(n.location).catch(Z=>{}));const R={};for(const Z in st)Object.defineProperty(R,Z,{get:()=>l.value[Z],enumerable:!0});y.provide(On,x),y.provide(ya,wo(R)),y.provide(zr,l);const I=y.unmount;It.add(y),y.unmount=function(){It.delete(y),It.size<1&&(u=st,Te&&Te(),Te=null,l.value=st,jt=!1,se=!1),I()}}};function xe(y){return y.reduce((x,R)=>x.then(()=>G(R)),Promise.resolve())}return Ts}function kh(t,e){const s=[],r=[],n=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>Qt(u,a))?r.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Qt(u,l))||n.push(l))}return[s,r,n]}const Rh=[{path:"/",name:"home",meta:{},component:()=>pt(()=>import("./home-CylbtLsa.js"),[])},{path:"/login",name:"login",meta:{},component:()=>pt(()=>import("./login-D9dvYWZK.js"),[])},{path:"/not-found",alias:"/:pathMatch(.*)*",redirect:{name:"home"}}],Th=Oh({history:Zu("/taboo-blindtest/"),routes:Rh});var Ch=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let va;const or=t=>va=t,ba=Symbol();function Gr(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var ps;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ps||(ps={}));function xh(){const t=ao(!0),e=t.run(()=>_n({}));let s=[],r=[];const n=pn({install(i){or(n),n._a=i,i.provide(ba,n),i.config.globalProperties.$pinia=n,r.forEach(o=>s.push(o)),r=[]},use(i){return!this._a&&!Ch?r.push(i):s.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return n}const wa=()=>{};function Ii(t,e,s,r=wa){t.push(e);const n=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!s&&lo()&&nl(n),n}function Dt(t,...e){t.slice().forEach(s=>{s(...e)})}const Ah=t=>t();function Wr(t,e){t instanceof Map&&e instanceof Map&&e.forEach((s,r)=>t.set(r,s)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const r=e[s],n=t[s];Gr(n)&&Gr(r)&&t.hasOwnProperty(s)&&!ue(r)&&!Tt(r)?t[s]=Wr(n,r):t[s]=r}return t}const $h=Symbol();function jh(t){return!Gr(t)||!t.hasOwnProperty($h)}const{assign:rt}=Object;function Ih(t){return!!(ue(t)&&t.effect)}function Lh(t,e,s,r){const{state:n,actions:i,getters:o}=e,a=s.state.value[t];let l;function u(){a||(s.state.value[t]=n?n():{});const c=Cl(s.state.value[t]);return rt(c,i,Object.keys(o||{}).reduce((h,p)=>(h[p]=pn($e(()=>{or(s);const g=s._s.get(t);return o[p].call(g,g)})),h),{}))}return l=Sa(t,u,e,s,r,!0),l}function Sa(t,e,s={},r,n,i){let o;const a=rt({actions:{}},s),l={deep:!0};let u,c,h=[],p=[],g;const S=r.state.value[t];!i&&!S&&(r.state.value[t]={}),_n({});let E;function T(V){let G;u=c=!1,typeof V=="function"?(V(r.state.value[t]),G={type:ps.patchFunction,storeId:t,events:g}):(Wr(r.state.value[t],V),G={type:ps.patchObject,payload:V,storeId:t,events:g});const le=E=Symbol();yn().then(()=>{E===le&&(u=!0)}),c=!0,Dt(h,G,r.state.value[t])}const j=i?function(){const{state:G}=s,le=G?G():{};this.$patch(de=>{rt(de,le)})}:wa;function $(){o.stop(),h=[],p=[],r._s.delete(t)}function C(V,G){return function(){or(r);const le=Array.from(arguments),de=[],Se=[];function Te(Q){de.push(Q)}function yt(Q){Se.push(Q)}Dt(p,{args:le,name:V,store:N,after:Te,onError:yt});let Ce;try{Ce=G.apply(this&&this.$id===t?this:N,le)}catch(Q){throw Dt(Se,Q),Q}return Ce instanceof Promise?Ce.then(Q=>(Dt(de,Q),Q)).catch(Q=>(Dt(Se,Q),Promise.reject(Q))):(Dt(de,Ce),Ce)}}const M={_p:r,$id:t,$onAction:Ii.bind(null,p),$patch:T,$reset:j,$subscribe(V,G={}){const le=Ii(h,V,G.detached,()=>de()),de=o.run(()=>us(()=>r.state.value[t],Se=>{(G.flush==="sync"?c:u)&&V({storeId:t,type:ps.direct,events:g},Se)},rt({},l,G)));return le},$dispose:$},N=Ps(M);r._s.set(t,N);const te=(r._a&&r._a.runWithContext||Ah)(()=>r._e.run(()=>(o=ao()).run(e)));for(const V in te){const G=te[V];if(ue(G)&&!Ih(G)||Tt(G))i||(S&&jh(G)&&(ue(G)?G.value=S[V]:Wr(G,S[V])),r.state.value[t][V]=G);else if(typeof G=="function"){const le=C(V,G);te[V]=le,a.actions[V]=G}}return rt(N,te),rt(J(N),te),Object.defineProperty(N,"$state",{get:()=>r.state.value[t],set:V=>{T(G=>{rt(G,V)})}}),r._p.forEach(V=>{rt(N,o.run(()=>V({store:N,app:r._a,pinia:r,options:a})))}),S&&i&&s.hydrate&&s.hydrate(N.$state,S),u=!0,c=!0,N}function Dh(t,e,s){let r,n;const i=typeof e=="function";r=t,n=i?s:e;function o(a,l){const u=lc();return a=a||(u?Ge(ba,null):null),a&&or(a),a=va,a._s.has(r)||(i?Sa(r,e,n,a):Lh(r,n,a)),a._s.get(r)}return o.$id=r,o}const Uh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>pt(async()=>{const{default:r}=await Promise.resolve().then(()=>Zt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class kn extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class Mh extends kn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Nh extends kn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Fh extends kn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Jr;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Jr||(Jr={}));var Bh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Hh{constructor(e,{headers:s={},customFetch:r,region:n=Jr.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=Uh(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return Bh(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(S=>{throw new Mh(S)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new Nh(c);if(!c.ok)throw new Fh(c);let p=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield c.json():p==="application/octet-stream"?g=yield c.blob():p==="text/event-stream"?g=c:p==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(n){return{data:null,error:n}}})}}var Le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function qh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var je={},Rn={},ar={},ks={},lr={},cr={},Kh=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Xt=Kh();const Vh=Xt.fetch,Ea=Xt.fetch.bind(Xt),Pa=Xt.Headers,zh=Xt.Request,Gh=Xt.Response,Zt=Object.freeze(Object.defineProperty({__proto__:null,Headers:Pa,Request:zh,Response:Gh,default:Ea,fetch:Vh},Symbol.toStringTag,{value:"Module"})),Wh=qh(Zt);var Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});class Jh extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}Tn.default=Jh;var Oa=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cr,"__esModule",{value:!0});const Qh=Oa(Wh),Yh=Oa(Tn);let Xh=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Qh.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,h=null,p=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const j=await i.text();j===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=j:c=JSON.parse(j))}const E=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),T=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");E&&T&&T.length>1&&(h=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,p=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const E=await i.text();try{u=JSON.parse(E),Array.isArray(u)&&i.status===404&&(c=[],u=null,p=200,g="OK")}catch{i.status===404&&E===""?(p=204,g="No Content"):u={message:E}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,p=200,g="OK"),u&&this.shouldThrowOnError)throw new Yh.default(u)}return{error:u,data:c,count:h,status:p,statusText:g}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,s)}};cr.default=Xh;var Zh=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lr,"__esModule",{value:!0});const ef=Zh(cr);let tf=class extends ef.default{select(e){let s=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};lr.default=tf;var sf=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ks,"__esModule",{value:!0});const rf=sf(lr);let nf=class extends rf.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};ks.default=nf;var of=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ar,"__esModule",{value:!0});const ns=of(ks);let af=class{constructor(e,{headers:s={},schema:r,fetch:n}){this.url=e,this.headers=s,this.schema=r,this.fetch=n}select(e,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new ns.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:r=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ns.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new ns.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const r="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),this.headers.Prefer=n.join(","),new ns.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ns.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ar.default=af;var ur={},hr={};Object.defineProperty(hr,"__esModule",{value:!0});hr.version=void 0;hr.version="0.0.0-automated";Object.defineProperty(ur,"__esModule",{value:!0});ur.DEFAULT_HEADERS=void 0;const lf=hr;ur.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${lf.version}`};var ka=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Rn,"__esModule",{value:!0});const cf=ka(ar),uf=ka(ks),hf=ur;let ff=class Ra{constructor(e,{headers:s={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},hf.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=n}from(e){const s=new URL(`${this.url}/${e}`);return new cf.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ra(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:n=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||n?(o=r?"HEAD":"GET",Object.entries(s).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{a.searchParams.append(c,h)})):(o="POST",l=s);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new uf.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Rn.default=ff;var Rs=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(je,"__esModule",{value:!0});je.PostgrestBuilder=je.PostgrestTransformBuilder=je.PostgrestFilterBuilder=je.PostgrestQueryBuilder=je.PostgrestClient=void 0;const Ta=Rs(Rn);je.PostgrestClient=Ta.default;const Ca=Rs(ar);je.PostgrestQueryBuilder=Ca.default;const xa=Rs(ks);je.PostgrestFilterBuilder=xa.default;const Aa=Rs(lr);je.PostgrestTransformBuilder=Aa.default;const $a=Rs(cr);je.PostgrestBuilder=$a.default;var df=je.default={PostgrestClient:Ta.default,PostgrestQueryBuilder:Ca.default,PostgrestFilterBuilder:xa.default,PostgrestTransformBuilder:Aa.default,PostgrestBuilder:$a.default};const{PostgrestClient:pf,PostgrestQueryBuilder:Xd,PostgrestFilterBuilder:Zd,PostgrestTransformBuilder:ep,PostgrestBuilder:tp}=df,gf="2.10.2",_f={"X-Client-Info":`realtime-js/${gf}`},mf="1.0.0",ja=1e4,yf=1e3;var Gt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Gt||(Gt={}));var Pe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Pe||(Pe={}));var Me;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Me||(Me={}));var Qr;(function(t){t.websocket="websocket"})(Qr||(Qr={}));var Ot;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ot||(Ot={}));class vf{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Ia{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var re;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(re||(re={}));const Li=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=bf(o,t,e,n),i),{})},bf=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?La(i,o):Yr(o)},La=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Pf(e,s)}switch(t){case re.bool:return wf(e);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return Sf(e);case re.json:case re.jsonb:return Ef(e);case re.timestamp:return Of(e);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return Yr(e);default:return Yr(e)}},Yr=t=>t,wf=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Sf=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Ef=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Pf=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>La(e,a))}return t},Of=t=>typeof t=="string"?t.replace(" ","T"):t,Da=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class kr{constructor(e,s,r={},n=ja){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Di;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Di||(Di={}));class gs{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gs.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=gs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=gs.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const p=c.map(T=>T.presence_ref),g=h.map(T=>T.presence_ref),S=c.filter(T=>g.indexOf(T.presence_ref)<0),E=h.filter(T=>p.indexOf(T.presence_ref)<0);S.length>0&&(a[u]=S),E.length>0&&(l[u]=E)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(g=>g.presence_ref),p=c.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ui;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ui||(Ui={}));var Mi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"})(Mi||(Mi={}));var Ni;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ni||(Ni={}));class Cn{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=Pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new kr(this,Me.join,this.params,this.timeout),this.rejoinTimer=new Ia(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pe.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Me.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new gs(this),this.broadcastEndpointURL=Da(this.socket.endPoint)+"/api/broadcast"}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e&&e("CHANNEL_ERROR",c)),this._onClose(()=>e&&e("CLOSED"));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",({postgres_changes:c})=>{var h;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){e&&e("SUBSCRIBED");return}else{const p=this.bindings.postgres_changes,g=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,S=[];for(let E=0;E<g;E++){const T=p[E],{filter:{event:j,schema:$,table:C,filter:M}}=T,N=c&&c[E];if(N&&N.event===j&&N.schema===$&&N.table===C&&N.filter===M)S.push(Object.assign(Object.assign({},T),{id:N.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e("SUBSCRIBED");return}}).receive("error",c=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=l.body)===null||n===void 0?void 0:n.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Pe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Me.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new kr(this,Me.leave,{},e);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new kr(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Me;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var S,E,T;return((S=g.filter)===null||S===void 0?void 0:S.event)==="*"||((T=(E=g.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===o}).map(g=>g.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var S,E,T,j,$,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const M=g.id,N=(S=g.filter)===null||S===void 0?void 0:S.event;return M&&((E=s.ids)===null||E===void 0?void 0:E.includes(M))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((T=s.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const M=($=(j=g==null?void 0:g.filter)===null||j===void 0?void 0:j.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return M==="*"||M===((C=s==null?void 0:s.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const S=p.data,{schema:E,table:T,commit_timestamp:j,type:$,errors:C}=S;p=Object.assign(Object.assign({},{schema:E,table:T,commit_timestamp:j,eventType:$,new:{},old:{},errors:C}),this._getPayloadRecords(S))}g.callback(p,r)})}_isClosed(){return this.state===Pe.closed}_isJoined(){return this.state===Pe.joined}_isJoining(){return this.state===Pe.joining}_isLeaving(){return this.state===Pe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Cn.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Me.close,{},e)}_onError(e){this._on(Me.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Li(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Li(e.columns,e.old_record)),s}}const kf=()=>{},Rf=typeof WebSocket<"u";class Tf{constructor(e,s){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=_f,this.params={},this.timeout=ja,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=kf,this.conn=null,this.sendBuffer=[],this.serializer=new vf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>pt(async()=>{const{default:l}=await Promise.resolve().then(()=>Zt);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Qr.websocket}`,this.httpEndpoint=Da(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;n&&(this.accessToken=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ia(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Rf){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Cf(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),pt(async()=>{const{default:e}=await import("./browser-DNZASpHD.js").then(s=>s.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Gt.connecting:return Ot.Connecting;case Gt.open:return Ot.Open;case Gt.closing:return Ot.Closing;default:return Ot.Closed}}isConnected(){return this.connectionState()===Ot.Open}channel(e,s={config:{}}){const r=new Cn(`realtime:${e}`,s,this);return this.channels.push(r),r}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(s=>{e&&s.updateJoinPayload({access_token:e}),s.joinedOnce&&s._isJoined()&&s._push(Me.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mf}))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;(o&&o===this.pendingHeartbeatRef||n===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Me.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(yf,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class Cf{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Gt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class xn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function pe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class xf extends xn{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Fi extends xn{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Af=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Ua=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>pt(async()=>{const{default:r}=await Promise.resolve().then(()=>Zt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},$f=()=>Af(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pt(()=>Promise.resolve().then(()=>Zt),void 0)).Response:Response});var es=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Rr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jf=(t,e)=>es(void 0,void 0,void 0,function*(){const s=yield $f();t instanceof s?t.json().then(r=>{e(new xf(Rr(r),t.status||500))}).catch(r=>{e(new Fi(Rr(r),r))}):e(new Fi(Rr(t),t))}),If=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};function fr(t,e,s,r,n,i){return es(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,If(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>jf(l,a))})})}function Xr(t,e,s,r){return es(this,void 0,void 0,function*(){return fr(t,"GET",e,s,r)})}function lt(t,e,s,r,n){return es(this,void 0,void 0,function*(){return fr(t,"POST",e,r,n,s)})}function Lf(t,e,s,r,n){return es(this,void 0,void 0,function*(){return fr(t,"PUT",e,r,n,s)})}function Ma(t,e,s,r,n){return es(this,void 0,void 0,function*(){return fr(t,"DELETE",e,r,n,s)})}var Ae=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Df={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bi={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Uf{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=Ua(n)}uploadOrUpdate(e,s,r,n){return Ae(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Bi),n),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl)):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(s),u=this._getFinalPath(l),c=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield c.json();return c.ok?{data:{path:l,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(pe(i))return{data:null,error:i};throw i}})}upload(e,s,r){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return Ae(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:Bi.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield h.json();return h.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(pe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return Ae(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield lt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new xn("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}update(e,s,r){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return Ae(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}copy(e,s,r){return Ae(this,void 0,void 0,function*(){try{return{data:{path:(yield lt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return Ae(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield lt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return Ae(this,void 0,void 0,function*(){try{const n=yield lt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}download(e,s){return Ae(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Xr(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(pe(a))return{data:null,error:a};throw a}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return Ae(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}list(e,s,r){return Ae(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Df),s),{prefix:e||""});return{data:yield lt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Mf="2.6.0",Nf={"X-Client-Info":`storage-js/${Mf}`};var Ut=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Ff{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},Nf),s),this.fetch=Ua(r)}listBuckets(){return Ut(this,void 0,void 0,function*(){try{return{data:yield Xr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(pe(e))return{data:null,error:e};throw e}})}getBucket(e){return Ut(this,void 0,void 0,function*(){try{return{data:yield Xr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Ut(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return Ut(this,void 0,void 0,function*(){try{return{data:yield Lf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ut(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Ut(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}}class Bf extends Ff{constructor(e,s={},r){super(e,s,r)}from(e){return new Uf(this.url,this.headers,e,this.fetch)}}const Hf="2.44.4";let as="";typeof Deno<"u"?as="deno":typeof document<"u"?as="web":typeof navigator<"u"&&navigator.product==="ReactNative"?as="react-native":as="node";const qf={"X-Client-Info":`supabase-js-${as}/${Hf}`},Kf={headers:qf},Vf={schema:"public"},zf={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Gf={};var Wf=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Jf=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ea:e=fetch,(...s)=>e(...s)},Qf=()=>typeof Headers>"u"?Pa:Headers,Yf=(t,e,s)=>{const r=Jf(s),n=Qf();return(i,o)=>Wf(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};function Xf(t){return t.replace(/\/$/,"")}function Zf(t,e){const{db:s,auth:r,realtime:n,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e;return{db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},u),i)}}const Na="2.64.4",ed="http://localhost:9999",td="supabase.auth.token",sd={"X-Client-Info":`gotrue-js/${Na}`},Hi=10,Zr="X-Supabase-Api-Version",Fa={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function rd(t){return Math.round(Date.now()/1e3)+t}function nd(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ue=()=>typeof document<"u",wt={tested:!1,writable:!1},_s=()=>{if(!Ue())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wt.tested)return wt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),wt.tested=!0,wt.writable=!0}catch{wt.tested=!0,wt.writable=!1}return wt.writable};function Tr(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const Ba=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>pt(async()=>{const{default:r}=await Promise.resolve().then(()=>Zt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},id=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ha=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Ls=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Cr=async(t,e)=>{await t.removeItem(e)};function od(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",r,n,i,o,a,l,u,c=0;for(t=t.replace("-","+").replace("_","/");c<t.length;)o=e.indexOf(t.charAt(c++)),a=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),u=e.indexOf(t.charAt(c++)),r=o<<2|a>>4,n=(a&15)<<4|l>>2,i=(l&3)<<6|u,s=s+String.fromCharCode(r),l!=64&&n!=0&&(s=s+String.fromCharCode(n)),u!=64&&i!=0&&(s=s+String.fromCharCode(i));return s}class dr{constructor(){this.promise=new dr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}dr.promiseConstructor=Promise;function qi(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=t.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=s[1];return JSON.parse(od(r))}async function ad(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ld(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function cd(t){return("0"+t.toString(16)).substr(-2)}function ud(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,cd).join("")}async function hd(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}function fd(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dd(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await hd(t);return fd(s)}async function Mt(t,e,s=!1){const r=ud();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Ha(t,`${e}-code-verifier`,n);const i=await dd(r);return[i,r===i?"plain":"s256"]}const pd=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gd(t){const e=t.headers.get(Zr);if(!e||!e.match(pd))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class An extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function K(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class _d extends An{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function md(t){return K(t)&&t.name==="AuthApiError"}class qa extends An{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class $t extends An{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class St extends $t{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class xr extends $t{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ds extends $t{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Us extends $t{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ki extends $t{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class en extends $t{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Ar(t){return K(t)&&t.name==="AuthRetryableFetchError"}class Vi extends $t{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}var yd=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const Et=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vd=[502,503,504];async function zi(t){var e;if(!id(t))throw new en(Et(t),0);if(vd.includes(t.status))throw new en(Et(t),t.status);let s;try{s=await t.json()}catch(i){throw new qa(Et(i),i)}let r;const n=gd(t);if(n&&n.getTime()>=Fa["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Vi(Et(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[])}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Vi(Et(s),t.status,s.weak_password.reasons);throw new _d(Et(s),t.status||500,r)}const bd=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function z(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[Zr]||(i[Zr]=Fa["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await wd(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function wd(t,e,s,r,n,i){const o=bd(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new en(Et(l),0)}if(a.ok||await zi(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await zi(l)}}function nt(t){var e;let s=null;Od(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=rd(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function Gi(t){const e=nt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ut(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Sd(t){return{data:t,error:null}}function Ed(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=yd(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Pd(t){return t}function Od(t){return t.access_token&&t.refresh_token&&t.expires_in}var kd=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class Rd{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=Ba(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:ut})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=kd(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Ed,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(K(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ut})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Pd});if(c.error)throw c.error;const h=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);u[`${T}Page`]=E}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(K(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await z(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ut})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:ut})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:ut})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:s,error:r}=await z(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(K(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}}const Td={getItem:t=>_s()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{_s()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{_s()&&globalThis.localStorage.removeItem(t)}};function Wi(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Cd(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Nt={debug:!!(globalThis&&_s()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ka extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xd extends Ka{}async function Ad(t,e,s){Nt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Nt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Nt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{Nt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Nt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new xd(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Nt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}})}Cd();const $d={url:ed,storageKey:td,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sd,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},is=30*1e3,Ji=3;async function Qi(t,e,s){return await s()}class Es{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Es.nextInstanceID,Es.nextInstanceID+=1,this.instanceID>0&&Ue()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},$d),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Rd({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Ba(n.fetch),this.lock=n.lock||Qi,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Ue()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Ad:this.lock=Qi,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:_s()?this.storage=Td:(this.memoryStorage={},this.storage=Wi(this.memoryStorage)):(this.memoryStorage={},this.storage=Wi(this.memoryStorage)),Ue()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Na}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=Ue()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:s,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.message)==="Identity is already linked"||(r==null?void 0:r.message)==="Identity is already linked to another user"?{error:r}:(await this._removeSession(),{error:r});const{session:n,redirectType:i}=s;return this._debug("#_initialize()","detected session in URL",n,"redirect type",i),await this._saveSession(n),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",n):await this._notifyAllSubscribers("SIGNED_IN",n)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return K(e)?{error:e}:{error:new qa("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:nt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:h,options:p}=e;let g=null,S=null;this.flowType==="pkce"&&([g,S]=await Mt(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:h,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:S},xform:nt})}else if("phone"in e){const{phone:c,password:h,options:p}=e;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:nt})}else throw new Ds("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Gi})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Gi})}else throw new Ds("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new xr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await Ls(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/"),{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:nt});return await Cr(this.storage,`${this.storageKey}-code-verifier`),o?{data:{user:null,session:null,redirectType:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new xr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:nt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new xr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Mt(this.storage,this.storageKey));const{error:h}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Ds("You must provide either an email or phone number.")}catch(a){if(K(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:nt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Mt(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Sd})}catch(i){if(K(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new St;const{error:n}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(K(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await z(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await z(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ds("You must provide either an email or phone number and a type")}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Ls(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ut}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new St}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:ut})})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new St;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Mt(this.storage,this.storageKey));const{data:u,error:c}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ut});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return qi(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new St;const s=Date.now()/1e3;let r=s,n=!0,i=null;const o=qi(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(K(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new St;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e){try{if(!Ue())throw new Us("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Us("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new Ki("Not a valid PKCE flow url.");const s=Tr(window.location.href);if(e){if(!s.code)throw new Ki("No code detected.");const{data:$,error:C}=await this._exchangeCodeForSession(s.code);if(C)throw C;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:$.session,redirectType:null},error:null}}if(s.error||s.error_description||s.error_code)throw new Us(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=s;if(!i||!a||!o||!u)throw new Us("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let p=c+h;l&&(p=parseInt(l));const g=p-c;g*1e3<=is&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const S=p-h;c-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,p,c):c-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",S,p,c);const{data:E,error:T}=await this._getUser(i);if(T)throw T;const j={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:s.type},error:null}}catch(s){if(K(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantFlow(){const e=Tr(window.location.href);return!!(Ue()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=Tr(window.location.href),s=await Ls(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(md(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Cr(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const s=nd(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Mt(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(K(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return Ue()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(K(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(K(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await ld(async n=>(n>0&&await ad(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:nt})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Ar(i)&&Date.now()+o-r<is})}catch(r){if(this._debug(s,"error",r),K(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Ue()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Ls(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<n+Hi;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${Hi}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Ar(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new St;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new dr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new St;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),K(i)){const o={session:null,error:i};return Ar(i)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ha(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Cr(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ue()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),is);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/is);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${is}ms, refresh threshold is ${Ji} ticks`),n<=Ji&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ka)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ue()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Mt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(K(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const{data:a,error:l}=await z(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(!((n=a==null?void 0:a.totp)===null||n===void 0)&&n.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(s){if(K(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(K(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(K(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:r,totp:n},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}Es.nextInstanceID=0;const jd=Es;class Id extends jd{constructor(e){super(e)}}var Ld=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Dd{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Xf(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Vf,realtime:Gf,auth:Object.assign(Object.assign({},zf),{storageKey:l}),global:Kf},c=Zf(r??{},u);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Yf(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},c.realtime)),this.rest=new pf(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Hh(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Bf(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Ld(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,debug:a},l,u){var c;const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Id({url:this.authUrl,headers:Object.assign(Object.assign({},h),l),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,debug:a,fetch:u,hasCustomAuthorizationHeader:(c="Authorization"in this.headers)!==null&&c!==void 0?c:!1})}_initRealtimeClient(e){return new Tf(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ud=(t,e,s)=>new Dd(t,e,s),Md=Dh("global",{state:()=>({supabaseClient:null,userSession:null}),actions:{async createDatabaseClient(){if(!this.supabaseClient)try{const t="https://eouwofwuogsuxcxuzglx.supabase.co",e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVvdXdvZnd1b2dzdXhjeHV6Z2x4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjE2NTkxNjAsImV4cCI6MjAzNzIzNTE2MH0.9DuNK6CUG_M0UsDOuRrrw3mCHT5WvgUc6QzDh0DgBAo";return this.supabaseClient=Ud(t,e),{data:this.supabaseClient,error:null}}catch(t){return console.error(t),{data:null,error:t}}},async refreshSession(){var t;try{this.supabaseClient||this.createDatabaseClient();const e=await((t=this.supabaseClient)==null?void 0:t.auth.getSession());return this.userSession=e==null?void 0:e.data.session,this.userSession}catch(e){return console.error(e),{data:null,error:e}}},async login(t,e){var s;try{if(await this.refreshSession(),this.userSession)return this.userSession;const r=await((s=this.supabaseClient)==null?void 0:s.auth.signInWithPassword({email:t,password:e}));if(r!=null&&r.error)throw r==null?void 0:r.error;return await this.refreshSession(),{data:this.userSession,error:null}}catch(r){return console.error(r),{data:null,error:r}}},async logout(){try{return this.userSession&&this.supabaseClient&&(await this.supabaseClient.auth.signOut(),this.userSession=null),{data:!0,error:null}}catch(t){return console.error(t),{data:null,error:t}}}}}),Nd=bn({__name:"App",setup(t){return Md().refreshSession(),(s,r)=>{const n=Yl("router-view");return Zo(),ta(n)}}}),Fd=xh();yu(Nd).use(Fd).use(Th).mount("#app");export{Ye as F,Kt as a,ra as b,qd as c,bn as d,Re as e,Kd as f,Hd as g,zd as h,Bd as i,Yl as j,Zo as k,Th as l,Gd as m,Hl as o,_n as r,sl as t,Md as u,Vd as v,Ul as w};
