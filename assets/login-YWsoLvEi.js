import{d as h,e as _,r as s,f as w,n as x,c as d,g as n,w as u,v as c,t as y,h as b,i as S,o as p,j as g}from"./index-B0biM_oY.js";const k={class:"flex h-full flex-col items-center justify-center gap-5"},B=n("button",null,"Submit",-1),I={key:0,class:"relative rounded border border-red-400 bg-red-100 px-4 py-3 text-red-700",role:"alert"},V=n("div",{id:"gSignInButton"},null,-1),z=h({__name:"login",setup(j){const r=_(),l=s(""),i=s(""),t=s("");w(()=>{x(()=>{typeof google<"u"&&v()})});async function m(){t.value="";const o=await r.login({auth:{email:l.value,password:i.value}});o.data?g.replace({name:"home"}).catch(()=>{}):t.value=o.error}async function f(o){t.value="";const e=await r.login({provider:{provider:"google",token:o.credential}});e.data?g.replace({name:"home"}).catch(()=>{}):t.value=e.error}function v(){google.accounts.id.initialize({client_id:"627081101511-iuhrk9t9g8fm55pju7uqi392agsr988d.apps.googleusercontent.com",callback:f}),google.accounts.id.renderButton(document.getElementById("gSignInButton"),{type:"standard",text:"sign_in_with",theme:"outline",size:"large",width:"400"}),google.accounts.id.prompt()}return(o,e)=>(p(),d("div",k,[n("form",{class:"flex flex-col gap-2",onSubmit:e[2]||(e[2]=S(a=>m(),["prevent"]))},[u(n("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a),placeholder:"email",type:"email"},null,512),[[c,l.value]]),u(n("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>i.value=a),placeholder:"password",type:"password"},null,512),[[c,i.value]]),B,t.value?(p(),d("div",I,y(t.value),1)):b("",!0)],32),V]))}});export{z as default};
