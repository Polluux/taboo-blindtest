import{d as h,u as _,r as s,o as x,n as y,c as d,b as n,i as u,v as c,t as b,f as w,h as S,k as p,l as g}from"./index-CjiGmndg.js";const k={class:"flex h-full flex-col items-center justify-center gap-5"},B=n("button",null,"Submit",-1),I={key:0,class:"relative rounded border border-red-400 bg-red-100 px-4 py-3 text-red-700",role:"alert"},V=n("div",{id:"gSignInButton"},null,-1),z=h({__name:"login",setup(M){const r=_(),l=s(""),i=s(""),t=s("");x(()=>{y(()=>{typeof google<"u"&&f()})});async function m(){t.value="";const o=await r.login({auth:{email:l.value,password:i.value}});o.data?g.replace({name:"home"}).catch(()=>{}):t.value=o.error}async function v(o){t.value="";const e=await r.login({provider:{provider:"google",token:o.credential}});e.data?g.replace({name:"home"}).catch(()=>{}):t.value=e.error}const f=()=>{google.accounts.id.initialize({client_id:"627081101511-iuhrk9t9g8fm55pju7uqi392agsr988d.apps.googleusercontent.com",callback:v}),google.accounts.id.renderButton(document.getElementById("gSignInButton"),{type:"standard",text:"sign_in_with",theme:"outline",size:"large",width:"400"}),google.accounts.id.prompt()};return(o,e)=>(p(),d("div",k,[n("form",{onSubmit:e[2]||(e[2]=S(a=>m(),["prevent"])),class:"flex flex-col gap-2"},[u(n("input",{type:"email",placeholder:"email","onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a)},null,512),[[c,l.value]]),u(n("input",{type:"password",placeholder:"password","onUpdate:modelValue":e[1]||(e[1]=a=>i.value=a)},null,512),[[c,i.value]]),B,t.value?(p(),d("div",I,b(t.value),1)):w("",!0)],32),V]))}});export{z as default};
