import{u as m,d as g,e as _,r as p,o as i,c,w as x,v as w,g as h,F as S,p as T,q as k,s as F,t as P}from"./index-wv5F_PN7.js";function y(n){return typeof n=="function"?n():m(n)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const v=()=>{};function D(n,a){function o(...t){return new Promise((s,l)=>{Promise.resolve(n(()=>a.apply(this,t),{fn:a,thisArg:this,args:t})).then(s).catch(l)})}return o}function V(n,a={}){let o,t,s=v;const l=u=>{clearTimeout(u),s(),s=v};return u=>{const r=y(n),e=y(a.maxWait);return o&&l(o),r<=0||e!==void 0&&e<=0?(t&&(l(t),t=null),Promise.resolve(u())):new Promise((f,b)=>{s=a.rejectOnCancel?b:f,e&&!t&&(t=setTimeout(()=>{o&&l(o),t=null,f(u())},e)),o=setTimeout(()=>{t&&l(t),t=null,f(u())},r)})}}function W(n,a=200,o={}){return D(V(a,o),n)}const j={class:"flex flex-col gap-3"},B=h("h2",{class:"text-xl font-bold"},"Youtube Playground",-1),C={key:0},G={key:1},$=["url"],N=g({__name:"youtube-playground",setup(n){const a=_(),o=p(""),t=p(""),s=p(!1),l=p([]),d=W(async()=>{var u;s.value=!0;try{const r=await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&key=${(u=a.userSession)==null?void 0:u.idClient}&q=${o.value}`);l.value=(await r.json()).items.map(e=>({...e.snippet,...e.id})),console.log(l.value)}catch(r){console.error(r),t.value=r}finally{s.value=!1}},1e3);return(u,r)=>(i(),c("div",j,[B,x(h("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=e=>o.value=e),placeholder:"Search",class:"h-8",onInput:r[1]||(r[1]=(...e)=>m(d)&&m(d)(...e))},null,544),[[w,o.value]]),s.value?(i(),c("div",C,"Recherche...")):(i(),c("div",G,[(i(!0),c(S,null,T(l.value,e=>(i(),c("div",null,[h("div",{url:e.thumbnails.default.url,class:"h-24 w-32 bg-no-repeat bg-center",style:k(`background-image: url('${e.thumbnails.default.url}')`)},null,12,$),F(" "+P(e.title),1)]))),256))]))]))}});export{N as default};
